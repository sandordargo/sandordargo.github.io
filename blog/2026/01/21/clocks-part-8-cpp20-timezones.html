<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Time in C++: C++20 Brought Us Time Zones" /><meta property="og:locale" content="en_US" /><meta name="description" content="In the earlier parts of this series, we explored the foundations of &lt;chrono&gt;: durations, time points, clock selection, inter-clock conversions, and even custom clocks. Click here to access all articles from the series. But for many real-world applications, none of that solves the hardest time problem developers face: “What does this timestamp mean to a human, in a specific place, at a specific moment?” Until C++20, the standard library simply couldn’t answer that question as it provided no support for timezones. C++20 changed that - and in doing so, it finally made &lt;chrono&gt; suitable for serious, user-facing time handling. Why Time Zones Are a Big Deal If you’ve ever scheduled a meeting across regions, processed user activity logs, or worked on billing systems, you already know: time zones are where bugs go to hide. I remember having worked in a team that had to deal with timezone data. The weeks around winter/summer time switches were always particularly stressful. The difficulty isn’t just offsets. It’s that: daylight saving rules change offsets depend on historical and political decisions “local time” is not a stable concept Before C++20, your options were: ignore the problem and hope UTC is “good enough”, or pull in a third-party library (most commonly Howard Hinnant’s date library - the basis of std::chrono), or provide in-house support for timezones The standard library offered nothing between std::tm and “good luck”. What C++20 Introduced C++20 standardized a full time-zone model, building on years of real-world experience. At the core of this model is system time, represented by sys_time, which is tied to system_clock and Unix time. In practice, this means time-zone support in &lt;chrono&gt; revolves around conversions between: system time (sys_time), and local civil time (local_time) This matches how operating systems and time-zone databases actually work. System Time as the Anchor A typical entry point looks like this: 1 auto now = std::chrono::system_clock::now(); system_clock counts seconds since the Unix epoch. Unix time closely tracks UTC, which is why developers often informally describe these conversions as “UTC &lt;-&gt; local time”. Even C++ Reference uses utc in variable names. Strictly speaking, though, Unix time ignores leap seconds, and that distinction is reflected in the standard library’s design. For most applications, this is exactly the right trade-off: practical, interoperable, and predictable. Unix Time vs UTC Unix time is defined as the number of seconds since 1970-01-01 00:00:00, ignoring leap seconds. UTC, on the other hand, occasionally inserts leap seconds to keep civil time aligned with Earth’s rotation. The difference between Unix time and UTC is the accumulated number of leap seconds. Most operating systems expose itme as Unix time and it’s close enough to UTC that the difference and distinction doesn’t matter. If your domain does care about leap seconds (astronomy, time synchronization, some scientific systems), C++20 provides utc_clock explicitly — but time-zone conversions intentionally operate on system time instead. Converting to Local Time Once you have system time, converting it to a local representation is straightforward: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 // https://godbolt.org/z/rj3jvPxGh #include &lt;chrono&gt; #include &lt;iostream&gt; int main() { const auto&amp; timezone_db = std::chrono::get_tzdb(); const auto* riviera_tz = timezone_db.locate_zone(&quot;Europe/Paris&quot;); const std::chrono::sys_time now = std::chrono::system_clock::now(); const std::chrono::local_time local_now = riviera_tz-&gt;to_local(now); const std::chrono::sys_time reconverted_sys_now = riviera_tz-&gt;to_sys(local_now); std::cout &lt;&lt; &quot;sys_time now: &quot; &lt;&lt; now &lt;&lt; &#39;\n&#39;; std::cout &lt;&lt; &quot;local now: &quot; &lt;&lt; local_now &lt;&lt; &#39;\n&#39;; std::cout &lt;&lt; &quot;reconverted sys_time now: &quot; &lt;&lt; reconverted_sys_now &lt;&lt; &#39;\n&#39;; return 0; } /* sys_time now: 2025-12-26 06:04:48.812719821 local now: 2025-12-26 07:04:48.812719821 reconverted sys_time now: 2025-12-26 06:04:48.812719821 */ First, we take a const&amp; of the timezone database using get_tzdb(). Then we locate the timezone representation based on its name with locate_zone. Note that locate_zone throws a runtime_error if we pass in a string that doesn’t represent any valid timezone. Then we simply have to pass a sys_time to time_zone::to_local function. With to_sys it also works the other way around. This conversion applies: the correct offset for the zone daylight saving rules historical and future transitions All without manual calculations or platform-specific code. Zoned Time: Making Time and Place Explicit Passing around raw time points can be error-prone, especially across API boundaries. C++20 addresses this with zoned_time, which combines a time point with the time zone used to interpret it: 1 std::chrono::zoned_time meeting{&quot;Europe/Paris&quot;, std::chrono::system_clock::now()}; Just like the locate_zone function, zoned_time constructor will throw if we pass in a location that is not in the time zone database. zoned_time makes intent explicit and helps prevent accidental misuse — particularly in larger codebases. Working with Dates and Civil Time A few weeks ago, we discussed about a pseudo-clock introduced also by C++20, local_t. Its usage indicates that a time_point represents local civil time, but without a specified time zone. 1 std::chrono::local_time meeting = std::chrono::local_days{2025y/3/30} + 9h; It becomes meaningul when it’s paired with a time zone. zoned_time constructor takes it along with a time zone name or pointer, also with a time zone object, you can convert it into a sys_time. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 // https://godbolt.org/z/KnW5zoTrs #include &lt;chrono&gt; #include &lt;iostream&gt; int main() { using namespace std::chrono_literals; std::chrono::local_time meeting = std::chrono::local_days{2025y / 3 / 30} + 9h; const auto&amp; timezone_db = std::chrono::get_tzdb(); const auto* riviera_tz = timezone_db.locate_zone(&quot;Europe/Paris&quot;); const std::chrono::zoned_time zoned_meeting{riviera_tz, meeting}; std::cout &lt;&lt; &quot;local time: &quot; &lt;&lt; meeting &lt;&lt; &#39;\n&#39;; std::cout &lt;&lt; &quot;zoned time: &quot; &lt;&lt; zoned_meeting &lt;&lt; &#39;\n&#39;; std::cout &lt;&lt; &quot;system time: &quot; &lt;&lt; riviera_tz-&gt;to_sys(meeting) &lt;&lt; &#39;\n&#39;; return 0; } /* local time: 2025-03-30 09:00:00 zoned time: 2025-03-30 09:00:00 CEST system time: 2025-03-30 07:00:00 */ When this local time is associated with a time zone, the library can correctly handle: ambiguous times during DST fall-back skipped times during spring-forward These are edge cases that are notoriously difficult to handle correctly without a proper model. Practical Implications With time zones available, some best practices become much clearer: store and transmit system time convert to local time at the edges treat “local time” as a presentation concern, not a storage format This aligns well with the guidance we discussed earlier when choosing clocks and designing time-aware APIs. How This Fits with Custom Clocks In the article on custom and user-defined clocks, we talked about simulations and virtual timelines. Time zones complement those designs nicely: custom clocks define how time progresses time zones define how humans interpret a moment Keeping these responsibilities separate leads to cleaner abstractions and fewer surprises. Conclusion Time zones were the missing piece of &lt;chrono&gt;. C++20 doesn’t pretend time is simple — but it gives us tools that reflect how systems and humans actually use it. By standardizing time-zone support, C++ finally makes correct civil time handling possible without external libraries or fragile assumptions. If your code interacts with humans, schedules events, or displays dates, time zones are no longer optional — and with C++20, they’re finally a first-class part of the standard library. Connect deeper If you liked this article, please hit on the like button, subscribe to my newsletter and let’s connect on Twitter!" /><meta property="og:description" content="In the earlier parts of this series, we explored the foundations of &lt;chrono&gt;: durations, time points, clock selection, inter-clock conversions, and even custom clocks. Click here to access all articles from the series. But for many real-world applications, none of that solves the hardest time problem developers face: “What does this timestamp mean to a human, in a specific place, at a specific moment?” Until C++20, the standard library simply couldn’t answer that question as it provided no support for timezones. C++20 changed that - and in doing so, it finally made &lt;chrono&gt; suitable for serious, user-facing time handling. Why Time Zones Are a Big Deal If you’ve ever scheduled a meeting across regions, processed user activity logs, or worked on billing systems, you already know: time zones are where bugs go to hide. I remember having worked in a team that had to deal with timezone data. The weeks around winter/summer time switches were always particularly stressful. The difficulty isn’t just offsets. It’s that: daylight saving rules change offsets depend on historical and political decisions “local time” is not a stable concept Before C++20, your options were: ignore the problem and hope UTC is “good enough”, or pull in a third-party library (most commonly Howard Hinnant’s date library - the basis of std::chrono), or provide in-house support for timezones The standard library offered nothing between std::tm and “good luck”. What C++20 Introduced C++20 standardized a full time-zone model, building on years of real-world experience. At the core of this model is system time, represented by sys_time, which is tied to system_clock and Unix time. In practice, this means time-zone support in &lt;chrono&gt; revolves around conversions between: system time (sys_time), and local civil time (local_time) This matches how operating systems and time-zone databases actually work. System Time as the Anchor A typical entry point looks like this: 1 auto now = std::chrono::system_clock::now(); system_clock counts seconds since the Unix epoch. Unix time closely tracks UTC, which is why developers often informally describe these conversions as “UTC &lt;-&gt; local time”. Even C++ Reference uses utc in variable names. Strictly speaking, though, Unix time ignores leap seconds, and that distinction is reflected in the standard library’s design. For most applications, this is exactly the right trade-off: practical, interoperable, and predictable. Unix Time vs UTC Unix time is defined as the number of seconds since 1970-01-01 00:00:00, ignoring leap seconds. UTC, on the other hand, occasionally inserts leap seconds to keep civil time aligned with Earth’s rotation. The difference between Unix time and UTC is the accumulated number of leap seconds. Most operating systems expose itme as Unix time and it’s close enough to UTC that the difference and distinction doesn’t matter. If your domain does care about leap seconds (astronomy, time synchronization, some scientific systems), C++20 provides utc_clock explicitly — but time-zone conversions intentionally operate on system time instead. Converting to Local Time Once you have system time, converting it to a local representation is straightforward: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 // https://godbolt.org/z/rj3jvPxGh #include &lt;chrono&gt; #include &lt;iostream&gt; int main() { const auto&amp; timezone_db = std::chrono::get_tzdb(); const auto* riviera_tz = timezone_db.locate_zone(&quot;Europe/Paris&quot;); const std::chrono::sys_time now = std::chrono::system_clock::now(); const std::chrono::local_time local_now = riviera_tz-&gt;to_local(now); const std::chrono::sys_time reconverted_sys_now = riviera_tz-&gt;to_sys(local_now); std::cout &lt;&lt; &quot;sys_time now: &quot; &lt;&lt; now &lt;&lt; &#39;\n&#39;; std::cout &lt;&lt; &quot;local now: &quot; &lt;&lt; local_now &lt;&lt; &#39;\n&#39;; std::cout &lt;&lt; &quot;reconverted sys_time now: &quot; &lt;&lt; reconverted_sys_now &lt;&lt; &#39;\n&#39;; return 0; } /* sys_time now: 2025-12-26 06:04:48.812719821 local now: 2025-12-26 07:04:48.812719821 reconverted sys_time now: 2025-12-26 06:04:48.812719821 */ First, we take a const&amp; of the timezone database using get_tzdb(). Then we locate the timezone representation based on its name with locate_zone. Note that locate_zone throws a runtime_error if we pass in a string that doesn’t represent any valid timezone. Then we simply have to pass a sys_time to time_zone::to_local function. With to_sys it also works the other way around. This conversion applies: the correct offset for the zone daylight saving rules historical and future transitions All without manual calculations or platform-specific code. Zoned Time: Making Time and Place Explicit Passing around raw time points can be error-prone, especially across API boundaries. C++20 addresses this with zoned_time, which combines a time point with the time zone used to interpret it: 1 std::chrono::zoned_time meeting{&quot;Europe/Paris&quot;, std::chrono::system_clock::now()}; Just like the locate_zone function, zoned_time constructor will throw if we pass in a location that is not in the time zone database. zoned_time makes intent explicit and helps prevent accidental misuse — particularly in larger codebases. Working with Dates and Civil Time A few weeks ago, we discussed about a pseudo-clock introduced also by C++20, local_t. Its usage indicates that a time_point represents local civil time, but without a specified time zone. 1 std::chrono::local_time meeting = std::chrono::local_days{2025y/3/30} + 9h; It becomes meaningul when it’s paired with a time zone. zoned_time constructor takes it along with a time zone name or pointer, also with a time zone object, you can convert it into a sys_time. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 // https://godbolt.org/z/KnW5zoTrs #include &lt;chrono&gt; #include &lt;iostream&gt; int main() { using namespace std::chrono_literals; std::chrono::local_time meeting = std::chrono::local_days{2025y / 3 / 30} + 9h; const auto&amp; timezone_db = std::chrono::get_tzdb(); const auto* riviera_tz = timezone_db.locate_zone(&quot;Europe/Paris&quot;); const std::chrono::zoned_time zoned_meeting{riviera_tz, meeting}; std::cout &lt;&lt; &quot;local time: &quot; &lt;&lt; meeting &lt;&lt; &#39;\n&#39;; std::cout &lt;&lt; &quot;zoned time: &quot; &lt;&lt; zoned_meeting &lt;&lt; &#39;\n&#39;; std::cout &lt;&lt; &quot;system time: &quot; &lt;&lt; riviera_tz-&gt;to_sys(meeting) &lt;&lt; &#39;\n&#39;; return 0; } /* local time: 2025-03-30 09:00:00 zoned time: 2025-03-30 09:00:00 CEST system time: 2025-03-30 07:00:00 */ When this local time is associated with a time zone, the library can correctly handle: ambiguous times during DST fall-back skipped times during spring-forward These are edge cases that are notoriously difficult to handle correctly without a proper model. Practical Implications With time zones available, some best practices become much clearer: store and transmit system time convert to local time at the edges treat “local time” as a presentation concern, not a storage format This aligns well with the guidance we discussed earlier when choosing clocks and designing time-aware APIs. How This Fits with Custom Clocks In the article on custom and user-defined clocks, we talked about simulations and virtual timelines. Time zones complement those designs nicely: custom clocks define how time progresses time zones define how humans interpret a moment Keeping these responsibilities separate leads to cleaner abstractions and fewer surprises. Conclusion Time zones were the missing piece of &lt;chrono&gt;. C++20 doesn’t pretend time is simple — but it gives us tools that reflect how systems and humans actually use it. By standardizing time-zone support, C++ finally makes correct civil time handling possible without external libraries or fragile assumptions. If your code interacts with humans, schedules events, or displays dates, time zones are no longer optional — and with C++20, they’re finally a first-class part of the standard library. Connect deeper If you liked this article, please hit on the like button, subscribe to my newsletter and let’s connect on Twitter!" /><link rel="canonical" href="https://www.sandordargo.com/blog/2026/01/21/clocks-part-8-cpp20-timezones" /><meta property="og:url" content="https://www.sandordargo.com/blog/2026/01/21/clocks-part-8-cpp20-timezones" /><meta property="og:site_name" content="Sandor Dargo’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2026-01-21T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Time in C++: C++20 Brought Us Time Zones" /><meta name="twitter:site" content="@SandorDargo" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2026-01-22T20:08:14+01:00","datePublished":"2026-01-21T00:00:00+01:00","description":"In the earlier parts of this series, we explored the foundations of &lt;chrono&gt;: durations, time points, clock selection, inter-clock conversions, and even custom clocks. Click here to access all articles from the series. But for many real-world applications, none of that solves the hardest time problem developers face: “What does this timestamp mean to a human, in a specific place, at a specific moment?” Until C++20, the standard library simply couldn’t answer that question as it provided no support for timezones. C++20 changed that - and in doing so, it finally made &lt;chrono&gt; suitable for serious, user-facing time handling. Why Time Zones Are a Big Deal If you’ve ever scheduled a meeting across regions, processed user activity logs, or worked on billing systems, you already know: time zones are where bugs go to hide. I remember having worked in a team that had to deal with timezone data. The weeks around winter/summer time switches were always particularly stressful. The difficulty isn’t just offsets. It’s that: daylight saving rules change offsets depend on historical and political decisions “local time” is not a stable concept Before C++20, your options were: ignore the problem and hope UTC is “good enough”, or pull in a third-party library (most commonly Howard Hinnant’s date library - the basis of std::chrono), or provide in-house support for timezones The standard library offered nothing between std::tm and “good luck”. What C++20 Introduced C++20 standardized a full time-zone model, building on years of real-world experience. At the core of this model is system time, represented by sys_time, which is tied to system_clock and Unix time. In practice, this means time-zone support in &lt;chrono&gt; revolves around conversions between: system time (sys_time), and local civil time (local_time) This matches how operating systems and time-zone databases actually work. System Time as the Anchor A typical entry point looks like this: 1 auto now = std::chrono::system_clock::now(); system_clock counts seconds since the Unix epoch. Unix time closely tracks UTC, which is why developers often informally describe these conversions as “UTC &lt;-&gt; local time”. Even C++ Reference uses utc in variable names. Strictly speaking, though, Unix time ignores leap seconds, and that distinction is reflected in the standard library’s design. For most applications, this is exactly the right trade-off: practical, interoperable, and predictable. Unix Time vs UTC Unix time is defined as the number of seconds since 1970-01-01 00:00:00, ignoring leap seconds. UTC, on the other hand, occasionally inserts leap seconds to keep civil time aligned with Earth’s rotation. The difference between Unix time and UTC is the accumulated number of leap seconds. Most operating systems expose itme as Unix time and it’s close enough to UTC that the difference and distinction doesn’t matter. If your domain does care about leap seconds (astronomy, time synchronization, some scientific systems), C++20 provides utc_clock explicitly — but time-zone conversions intentionally operate on system time instead. Converting to Local Time Once you have system time, converting it to a local representation is straightforward: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 // https://godbolt.org/z/rj3jvPxGh #include &lt;chrono&gt; #include &lt;iostream&gt; int main() { const auto&amp; timezone_db = std::chrono::get_tzdb(); const auto* riviera_tz = timezone_db.locate_zone(&quot;Europe/Paris&quot;); const std::chrono::sys_time now = std::chrono::system_clock::now(); const std::chrono::local_time local_now = riviera_tz-&gt;to_local(now); const std::chrono::sys_time reconverted_sys_now = riviera_tz-&gt;to_sys(local_now); std::cout &lt;&lt; &quot;sys_time now: &quot; &lt;&lt; now &lt;&lt; &#39;\\n&#39;; std::cout &lt;&lt; &quot;local now: &quot; &lt;&lt; local_now &lt;&lt; &#39;\\n&#39;; std::cout &lt;&lt; &quot;reconverted sys_time now: &quot; &lt;&lt; reconverted_sys_now &lt;&lt; &#39;\\n&#39;; return 0; } /* sys_time now: 2025-12-26 06:04:48.812719821 local now: 2025-12-26 07:04:48.812719821 reconverted sys_time now: 2025-12-26 06:04:48.812719821 */ First, we take a const&amp; of the timezone database using get_tzdb(). Then we locate the timezone representation based on its name with locate_zone. Note that locate_zone throws a runtime_error if we pass in a string that doesn’t represent any valid timezone. Then we simply have to pass a sys_time to time_zone::to_local function. With to_sys it also works the other way around. This conversion applies: the correct offset for the zone daylight saving rules historical and future transitions All without manual calculations or platform-specific code. Zoned Time: Making Time and Place Explicit Passing around raw time points can be error-prone, especially across API boundaries. C++20 addresses this with zoned_time, which combines a time point with the time zone used to interpret it: 1 std::chrono::zoned_time meeting{&quot;Europe/Paris&quot;, std::chrono::system_clock::now()}; Just like the locate_zone function, zoned_time constructor will throw if we pass in a location that is not in the time zone database. zoned_time makes intent explicit and helps prevent accidental misuse — particularly in larger codebases. Working with Dates and Civil Time A few weeks ago, we discussed about a pseudo-clock introduced also by C++20, local_t. Its usage indicates that a time_point represents local civil time, but without a specified time zone. 1 std::chrono::local_time meeting = std::chrono::local_days{2025y/3/30} + 9h; It becomes meaningul when it’s paired with a time zone. zoned_time constructor takes it along with a time zone name or pointer, also with a time zone object, you can convert it into a sys_time. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 // https://godbolt.org/z/KnW5zoTrs #include &lt;chrono&gt; #include &lt;iostream&gt; int main() { using namespace std::chrono_literals; std::chrono::local_time meeting = std::chrono::local_days{2025y / 3 / 30} + 9h; const auto&amp; timezone_db = std::chrono::get_tzdb(); const auto* riviera_tz = timezone_db.locate_zone(&quot;Europe/Paris&quot;); const std::chrono::zoned_time zoned_meeting{riviera_tz, meeting}; std::cout &lt;&lt; &quot;local time: &quot; &lt;&lt; meeting &lt;&lt; &#39;\\n&#39;; std::cout &lt;&lt; &quot;zoned time: &quot; &lt;&lt; zoned_meeting &lt;&lt; &#39;\\n&#39;; std::cout &lt;&lt; &quot;system time: &quot; &lt;&lt; riviera_tz-&gt;to_sys(meeting) &lt;&lt; &#39;\\n&#39;; return 0; } /* local time: 2025-03-30 09:00:00 zoned time: 2025-03-30 09:00:00 CEST system time: 2025-03-30 07:00:00 */ When this local time is associated with a time zone, the library can correctly handle: ambiguous times during DST fall-back skipped times during spring-forward These are edge cases that are notoriously difficult to handle correctly without a proper model. Practical Implications With time zones available, some best practices become much clearer: store and transmit system time convert to local time at the edges treat “local time” as a presentation concern, not a storage format This aligns well with the guidance we discussed earlier when choosing clocks and designing time-aware APIs. How This Fits with Custom Clocks In the article on custom and user-defined clocks, we talked about simulations and virtual timelines. Time zones complement those designs nicely: custom clocks define how time progresses time zones define how humans interpret a moment Keeping these responsibilities separate leads to cleaner abstractions and fewer surprises. Conclusion Time zones were the missing piece of &lt;chrono&gt;. C++20 doesn’t pretend time is simple — but it gives us tools that reflect how systems and humans actually use it. By standardizing time-zone support, C++ finally makes correct civil time handling possible without external libraries or fragile assumptions. If your code interacts with humans, schedules events, or displays dates, time zones are no longer optional — and with C++20, they’re finally a first-class part of the standard library. Connect deeper If you liked this article, please hit on the like button, subscribe to my newsletter and let’s connect on Twitter!","headline":"Time in C++: C++20 Brought Us Time Zones","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sandordargo.com/blog/2026/01/21/clocks-part-8-cpp20-timezones"},"url":"https://www.sandordargo.com/blog/2026/01/21/clocks-part-8-cpp20-timezones"}</script><title>Time in C++: C++20 Brought Us Time Zones | Sandor Dargo's Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-89625019-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-89625019-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/SANDOR_DARGO_ROUND.JPG" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Sandor Dargo's Blog</a></div><div class="site-subtitle font-italic">On C++, software development and books</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/books/" class="nav-link"> <i class="fa-fw fas fa-book ml-xl-3 mr-xl-3 unloaded"></i> <span>BOOKS</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-microphone ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a><li class="nav-item"> <a href="/dailycpp/" class="nav-link"> <i class="fa-fw fas fa-link ml-xl-3 mr-xl-3 unloaded"></i> <span>DAILY C++</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>HI...</span> </a></ul><ul class="w-100"><li class="nav-item"> <a href="https://www.patreon.com/sandordargo" class="nav-link"> <img src="https://c5.patreon.com/external/logo/become_a_patron_button.png"></a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/sandordargo" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/SandorDargo" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sandor.dargo','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/blog"> Blog </a> </span> <span> <a href="/2026"> 2026 </a> </span> <span> <a href="/01"> 01 </a> </span> <span> <a href="/21"> 21 </a> </span> <span>Time in C++: C++20 Brought Us Time Zones</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Time in C++: C++20 Brought Us Time Zones</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Sandor Dargo </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Jan 21, 2026, 12:00 AM +0100" prep="on" > Jan 21 <i class="unloaded">2026-01-21T00:00:00+01:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Thu, Jan 22, 2026, 8:08 PM +0100" prefix="Updated " > Jan 22 <i class="unloaded">2026-01-22T20:08:14+01:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1187 words">6 min</span></div></div><div class="post-content"><p>In the earlier parts of this series, we explored the foundations of <code class="language-plaintext highlighter-rouge">&lt;chrono&gt;</code>: durations, time points, clock selection, inter-clock conversions, and even custom clocks. <a href="https://www.sandordargo.com/tags/clocks/">Click here to access all articles from the series.</a></p><p>But for many real-world applications, none of that solves the hardest time problem developers face:</p><blockquote><p><em>“What does this timestamp mean to a human, in a specific place, at a specific moment?”</em></p></blockquote><p>Until C++20, the standard library simply couldn’t answer that question as it provided no support for timezones.</p><p>C++20 changed that - and in doing so, it finally made <code class="language-plaintext highlighter-rouge">&lt;chrono&gt;</code> suitable for serious, user-facing time handling.</p><h2 id="why-time-zones-are-a-big-deal">Why Time Zones Are a Big Deal</h2><p>If you’ve ever scheduled a meeting across regions, processed user activity logs, or worked on billing systems, you already know: time zones are where bugs go to hide. I remember having worked in a team that had to deal with timezone data. The weeks around winter/summer time switches were always particularly stressful.</p><p>The difficulty isn’t just offsets. It’s that:</p><ul><li>daylight saving rules change<li>offsets depend on historical and political decisions<li>“local time” is not a stable concept</ul><p>Before C++20, your options were:</p><ul><li>ignore the problem and hope UTC is “good enough”, or<li>pull in a third-party library (most commonly <a href="https://github.com/HowardHinnant/date">Howard Hinnant’s date library</a> - the basis of <code class="language-plaintext highlighter-rouge">std::chrono</code>), or<li>provide in-house support for timezones</ul><p>The standard library offered nothing between <code class="language-plaintext highlighter-rouge">std::tm</code> and “good luck”.</p><h2 id="what-c20-introduced">What C++20 Introduced</h2><p>C++20 standardized a full time-zone model, building on years of real-world experience.</p><p>At the core of this model is system time, represented by <code class="language-plaintext highlighter-rouge">sys_time</code>, which is tied to <code class="language-plaintext highlighter-rouge">system_clock</code> and Unix time.</p><p>In practice, this means time-zone support in <code class="language-plaintext highlighter-rouge">&lt;chrono&gt;</code> revolves around conversions between:</p><ul><li>system time (<code class="language-plaintext highlighter-rouge">sys_time</code>), and<li>local civil time (<code class="language-plaintext highlighter-rouge">local_time</code>)</ul><p>This matches how operating systems and time-zone databases actually work.</p><h2 id="system-time-as-the-anchor">System Time as the Anchor</h2><p>A typical entry point looks like this:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">now</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">system_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">system_clock</code> counts seconds since the Unix epoch. Unix time closely tracks UTC, which is why developers often informally describe these conversions as “UTC &lt;-&gt; local time”. Even <a href="https://en.cppreference.com/w/cpp/chrono/time_zone/to_local.html">C++ Reference uses utc in variable names</a>.</p><p>Strictly speaking, though, Unix time ignores leap seconds, and that distinction is reflected in the standard library’s design.</p><p>For most applications, this is exactly the right trade-off: practical, interoperable, and predictable.</p><blockquote><p><strong>Unix Time vs UTC</strong></p><p>Unix time is defined as the number of seconds since <strong>1970-01-01 00:00:00</strong>, <em>ignoring leap seconds</em>.</p><p>UTC, on the other hand, occasionally inserts leap seconds to keep civil time aligned with Earth’s rotation.</p><p>The difference between Unix time and UTC is the accumulated number of leap seconds.</p><p>Most operating systems expose itme as Unix time and it’s close enough to UTC that the difference and distinction doesn’t matter.</p><p>If your domain does care about leap seconds (astronomy, time synchronization, some scientific systems), <a href="https://www.sandordargo.com/blog/2026/01/07/clocks-part-6-cpp20#stdchronoutc_clock-the-leap-second-aware-clock">C++20 provides utc_clock explicitly</a> — but time-zone conversions intentionally operate on system time instead.</p></blockquote><h2 id="converting-to-local-time">Converting to Local Time</h2><p>Once you have system time, converting it to a local representation is straightforward:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="c1">// https://godbolt.org/z/rj3jvPxGh</span>
<span class="cp">#include</span> <span class="cpf">&lt;chrono&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">timezone_db</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">get_tzdb</span><span class="p">();</span>
    <span class="k">const</span> <span class="k">auto</span><span class="o">*</span> <span class="n">riviera_tz</span> <span class="o">=</span> <span class="n">timezone_db</span><span class="p">.</span><span class="n">locate_zone</span><span class="p">(</span><span class="s">"Europe/Paris"</span><span class="p">);</span>

    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">sys_time</span> <span class="n">now</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">system_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">local_time</span> <span class="n">local_now</span> <span class="o">=</span> <span class="n">riviera_tz</span><span class="o">-&gt;</span><span class="n">to_local</span><span class="p">(</span><span class="n">now</span><span class="p">);</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">sys_time</span> <span class="n">reconverted_sys_now</span> <span class="o">=</span>
        <span class="n">riviera_tz</span><span class="o">-&gt;</span><span class="n">to_sys</span><span class="p">(</span><span class="n">local_now</span><span class="p">);</span>

    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"sys_time now: "</span> <span class="o">&lt;&lt;</span> <span class="n">now</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"local now: "</span> <span class="o">&lt;&lt;</span> <span class="n">local_now</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"reconverted sys_time now: "</span> <span class="o">&lt;&lt;</span> <span class="n">reconverted_sys_now</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*
sys_time now: 2025-12-26 06:04:48.812719821
local now: 2025-12-26 07:04:48.812719821
reconverted sys_time now: 2025-12-26 06:04:48.812719821
*/</span>
</pre></table></code></div></div><p>First, we take a <code class="language-plaintext highlighter-rouge">const&amp;</code> of the timezone database using <a href="https://en.cppreference.com/w/cpp/chrono/tzdb_functions.html"><code class="language-plaintext highlighter-rouge">get_tzdb()</code></a>. Then we locate the timezone representation based on its name with <a href="https://en.cppreference.com/w/cpp/chrono/locate_zone.html"><code class="language-plaintext highlighter-rouge">locate_zone</code></a>. Note that <code class="language-plaintext highlighter-rouge">locate_zone</code> throws a <code class="language-plaintext highlighter-rouge">runtime_error</code> if we pass in a string that doesn’t represent any valid timezone. Then we simply have to pass a <code class="language-plaintext highlighter-rouge">sys_time</code> to <code class="language-plaintext highlighter-rouge">time_zone::to_local</code> function. With <code class="language-plaintext highlighter-rouge">to_sys</code> it also works the other way around.</p><p>This conversion applies:</p><ul><li>the correct offset for the zone<li>daylight saving rules<li>historical and future transitions</ul><p>All without manual calculations or platform-specific code.</p><h2 id="zoned-time-making-time-and-place-explicit">Zoned Time: Making Time and Place Explicit</h2><p>Passing around raw time points can be error-prone, especially across API boundaries.</p><p>C++20 addresses this with <code class="language-plaintext highlighter-rouge">zoned_time</code>, which combines a time point with the time zone used to interpret it:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">zoned_time</span> <span class="n">meeting</span><span class="p">{</span><span class="s">"Europe/Paris"</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">system_clock</span><span class="o">::</span><span class="n">now</span><span class="p">()};</span>
</pre></table></code></div></div><p>Just like the <code class="language-plaintext highlighter-rouge">locate_zone</code> function, <code class="language-plaintext highlighter-rouge">zoned_time</code> constructor will throw if we pass in a location that is not in the time zone database.</p><p><code class="language-plaintext highlighter-rouge">zoned_time</code> makes intent explicit and helps prevent accidental misuse — particularly in larger codebases.</p><h2 id="working-with-dates-and-civil-time">Working with Dates and Civil Time</h2><p>A few weeks ago, we discussed about a pseudo-clock introduced also by C++20, <code class="language-plaintext highlighter-rouge">local_t</code>. Its usage indicates that a <code class="language-plaintext highlighter-rouge">time_point</code> represents <strong>local civil time</strong>, but without a specified time zone.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">local_time</span> <span class="n">meeting</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">local_days</span><span class="p">{</span><span class="mx">2025y</span><span class="o">/</span><span class="mi">3</span><span class="o">/</span><span class="mi">30</span><span class="p">}</span> <span class="o">+</span> <span class="mx">9h</span><span class="p">;</span>
</pre></table></code></div></div><p>It becomes meaningul when it’s paired with a time zone. <code class="language-plaintext highlighter-rouge">zoned_time</code> constructor takes it along with a time zone name or pointer, also with a time zone object, you can convert it into a <code class="language-plaintext highlighter-rouge">sys_time</code>.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="c1">// https://godbolt.org/z/KnW5zoTrs</span>
<span class="cp">#include</span> <span class="cpf">&lt;chrono&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono_literals</span><span class="p">;</span>

    <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">local_time</span> <span class="n">meeting</span> <span class="o">=</span>
        <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">local_days</span><span class="p">{</span><span class="mx">2025y</span> <span class="o">/</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">30</span><span class="p">}</span> <span class="o">+</span> <span class="mx">9h</span><span class="p">;</span>

    <span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">timezone_db</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">get_tzdb</span><span class="p">();</span>
    <span class="k">const</span> <span class="k">auto</span><span class="o">*</span> <span class="n">riviera_tz</span> <span class="o">=</span> <span class="n">timezone_db</span><span class="p">.</span><span class="n">locate_zone</span><span class="p">(</span><span class="s">"Europe/Paris"</span><span class="p">);</span>

    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">zoned_time</span> <span class="n">zoned_meeting</span><span class="p">{</span><span class="n">riviera_tz</span><span class="p">,</span> <span class="n">meeting</span><span class="p">};</span>

    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"local time: "</span> <span class="o">&lt;&lt;</span> <span class="n">meeting</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"zoned time: "</span> <span class="o">&lt;&lt;</span> <span class="n">zoned_meeting</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"system time: "</span> <span class="o">&lt;&lt;</span> <span class="n">riviera_tz</span><span class="o">-&gt;</span><span class="n">to_sys</span><span class="p">(</span><span class="n">meeting</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*
local time: 2025-03-30 09:00:00
zoned time: 2025-03-30 09:00:00 CEST
system time: 2025-03-30 07:00:00
*/</span>
</pre></table></code></div></div><p>When this local time is associated with a time zone, the library can correctly handle:</p><ul><li>ambiguous times during DST fall-back<li>skipped times during spring-forward</ul><p>These are edge cases that are notoriously difficult to handle correctly without a proper model.</p><h2 id="practical-implications">Practical Implications</h2><p>With time zones available, some best practices become much clearer:</p><ul><li>store and transmit system time<li>convert to local time at the edges<li>treat “local time” as a presentation concern, not a storage format</ul><p>This aligns well with the guidance we discussed earlier when choosing clocks and designing time-aware APIs.</p><h2 id="how-this-fits-with-custom-clocks">How This Fits with Custom Clocks</h2><p><a href="https://www.sandordargo.com/blog/2026/01/14/clocks-part-7-custom-clocks">In the article on custom and user-defined clocks</a>, we talked about simulations and virtual timelines.</p><p>Time zones complement those designs nicely:</p><ul><li>custom clocks define how time progresses<li>time zones define how humans interpret a moment</ul><p>Keeping these responsibilities separate leads to cleaner abstractions and fewer surprises.</p><h2 id="conclusion">Conclusion</h2><p>Time zones were the missing piece of <code class="language-plaintext highlighter-rouge">&lt;chrono&gt;</code>.</p><p>C++20 doesn’t pretend time is simple — but it gives us tools that reflect how systems and humans actually use it.</p><p>By standardizing time-zone support, C++ finally makes correct civil time handling possible without external libraries or fragile assumptions.</p><p>If your code interacts with humans, schedules events, or displays dates, time zones are no longer optional — and with C++20, they’re finally a first-class part of the standard library.</p><h2 id="connect-deeper">Connect deeper</h2><p>If you liked this article, please</p><ul><li>hit on the like button,<li><a href="http://eepurl.com/gvcv1j">subscribe to my newsletter</a><li>and let’s connect on <a href="https://twitter.com/SandorDargo">Twitter</a>!</ul><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/dev/'>dev</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/cpp/" class="post-tag no-text-decoration" >cpp</a> <a href="/tags/chrono/" class="post-tag no-text-decoration" >chrono</a> <a href="/tags/clocks/" class="post-tag no-text-decoration" >clocks</a> <a href="/tags/time/" class="post-tag no-text-decoration" >time</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a><div class="share-wrapper"> <a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Time in C++: C++20 Brought Us Time Zones - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2026/01/21/clocks-part-8-cpp20-timezones" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Time in C++: C++20 Brought Us Time Zones - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2026/01/21/clocks-part-8-cpp20-timezones" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Time in C++: C++20 Brought Us Time Zones - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2026/01/21/clocks-part-8-cpp20-timezones" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://news.ycombinator.com/submitlink?t=Time in C++: C++20 Brought Us Time Zones - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2026/01/21/clocks-part-8-cpp20-timezones" data-toggle="tooltip" data-placement="top" title="HackerNews" target="_blank" rel="noopener" aria-label="HackerNews"> <i class="fa-fw fab fa-hacker-news"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/blog/2026/01/21/clocks-part-8-cpp20-timezones">Time in C++: C++20 Brought Us Time Zones</a><li><a href="/blog/2019/04/10/lesson-of-a-booking-dont-trust-the-system">Lesson of a booking: Don't trust the system!</a><li><a href="/blog/2020/07/22/always-catch-exceptions-by-reference">Why should we always catch exceptions by reference?</a><li><a href="/blog/2020/11/28/emergent-design">Emergent Design: The Evolutionary Nature of Professional Software Development by Scott Bain</a><li><a href="/blog/2021/10/06/airy-code-reviews">Bring some fresh AIR and write effective code review comments</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self-improvement</a> <a class="post-tag" href="/tags/management/">management</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/blog/2025/12/10/clocks-part-4-high_resolution_clock"><div class="card-body"> <span class="timeago small" > Dec 10, 2025 <i class="unloaded">2025-12-10T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Time in C++: std::chrono::high_resolution_clock — Myths and Realities</h3><div class="text-muted small"><p> If there’s one clock in &lt;chrono&gt; that causes the most confusion, it’s std::chrono::high_resolution_clock. The name sounds too tempting — who wouldn’t want “the highest resolution”? But like m...</p></div></div></a></div><div class="card"> <a href="/blog/2025/12/24/clocks-part-5-conversions"><div class="card-body"> <span class="timeago small" > Dec 24, 2025 <i class="unloaded">2025-12-24T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Time in C++: Inter-clock Conversions, Epochs, and Durations</h3><div class="text-muted small"><p> By now in this series, we’ve spent time looking at the major standard clocks and their behavior. We’ve talked about wall-clock time, monotonic clocks, and the myths around “high resolution”. Today,...</p></div></div></a></div><div class="card"> <a href="/blog/2026/01/07/clocks-part-6-cpp20"><div class="card-body"> <span class="timeago small" > Jan 7 <i class="unloaded">2026-01-07T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Time in C++: Additional clocks in C++20</h3><div class="text-muted small"><p> In this series, we’ve already talked about the main pillars behind &lt;chrono&gt;, the most widely used clocks, and even inter-clock conversions. Those clocks — system_clock, steady_clock, and hig...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/blog/2026/01/14/clocks-part-7-custom-clocks" class="btn btn-outline-primary" prompt="Older"><p>Time in C++: Creating Your Own Clocks with &lt;chrono&gt;</p></a> <a href="/blog/2026/01/28/clocks-part-9-once-more-about-testing" class="btn btn-outline-primary" prompt="Newer"><p>Time in C++: Once More About Testing</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//sandordargo-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Time in C++: C++20 Brought Us Time Zones'; this.page.url = 'https://www.sandordargo.com/blog/2026/01/21/clocks-part-8-cpp20-timezones'; this.page.identifier = '/blog/2026/01/21/clocks-part-8-cpp20-timezones'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><div id="amzn-assoc-ad-be5a767b-3346-40aa-bc00-2eff0ce33d2b"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=be5a767b-3346-40aa-bc00-2eff0ce33d2b"></script> <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script> <script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">require(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us16.list-manage.com","uuid":"b073dbd5c29322302f59a8cd8","lid":"d26240427e"}) })</script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://twitter.com/SandorDargo">Sandor Dargo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self improvement</a> <a class="post-tag" href="/tags/management/">management</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.sandordargo.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
