<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Trip Report: CPPP 2021" /><meta property="og:locale" content="en_US" /><meta name="description" content="December started with another fascinating C++ conference which was probably the last one for the year: CPPP 2021." /><meta property="og:description" content="December started with another fascinating C++ conference which was probably the last one for the year: CPPP 2021." /><link rel="canonical" href="https://www.sandordargo.com/blog/2021/12/15/trip-report-cppp2021" /><meta property="og:url" content="https://www.sandordargo.com/blog/2021/12/15/trip-report-cppp2021" /><meta property="og:site_name" content="Sandor Dargo’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-12-15T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Trip Report: CPPP 2021" /><meta name="twitter:site" content="@SandorDargo" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-12-26T06:57:31+01:00","datePublished":"2021-12-15T00:00:00+01:00","description":"December started with another fascinating C++ conference which was probably the last one for the year: CPPP 2021.","headline":"Trip Report: CPPP 2021","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sandordargo.com/blog/2021/12/15/trip-report-cppp2021"},"url":"https://www.sandordargo.com/blog/2021/12/15/trip-report-cppp2021"}</script><title>Trip Report: CPPP 2021 | Sandor Dargo's Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-89625019-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-89625019-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/SANDOR_DARGO_ROUND.JPG" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Sandor Dargo's Blog</a></div><div class="site-subtitle font-italic">On C++, software development and books</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/books/" class="nav-link"> <i class="fa-fw fas fa-book ml-xl-3 mr-xl-3 unloaded"></i> <span>BOOKS</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-microphone ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a><li class="nav-item"> <a href="/dailycpp/" class="nav-link"> <i class="fa-fw fas fa-link ml-xl-3 mr-xl-3 unloaded"></i> <span>DAILY C++</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>HI...</span> </a></ul><ul class="w-100"><li class="nav-item"> <a href="https://www.patreon.com/sandordargo" class="nav-link"> <img src="https://c5.patreon.com/external/logo/become_a_patron_button.png"></a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/sandordargo" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/SandorDargo" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sandor.dargo','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/blog"> Blog </a> </span> <span> <a href="/2021"> 2021 </a> </span> <span> <a href="/12"> 12 </a> </span> <span> <a href="/15"> 15 </a> </span> <span>Trip Report: CPPP 2021</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Trip Report: CPPP 2021</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Sandor Dargo </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Dec 15, 2021, 12:00 AM +0100" prep="on" > Dec 15, 2021 <i class="unloaded">2021-12-15T00:00:00+01:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Thu, Dec 26, 2024, 6:57 AM +0100" prefix="Updated " > Dec 26, 2024 <i class="unloaded">2024-12-26T06:57:31+01:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2401 words">13 min</span></div></div><div class="post-content"><p>December started with another fascinating C++ conference which was probably the last one for the year: CPPP 2021. The third <em>P</em> in the name represents the French touch in this conference, it stands for <em>Paris</em>. Sadly, this year, it was fully online due to well-known reasons, so whether a conference was American, Italian, English, German or French (the ones I went to) didn’t make much difference in terms of catering ;)</p><p>Yet this doesn’t remove anything from the values of the conferences, and I saw more and more efforts for trying to bring back conference chats, networking in between talks - more on that later.</p><p>If we look for another meaning for the 3 <em>P</em>s in <em>CPPP</em>, it’s the 3 tracks of the conference:</p><ul><li>The <em>Progress</em> track dedicated to learning and reinforcing basic C++ knowledge and understanding - which went quite deep sometimes.<li>The <em>Produce</em> track dedicated to sharing solutions to produce and maintain reliable software using C++.<li>The <em>Push Forward</em> track dedicated to sharing new patterns and functionality of C++.</ul><h2 id="on-my-performance">On my performance</h2><p>Human is a selfish beast and I’m pretty much human. Let me share some thoughts on my participation in CPPP.</p><p><a href="https://cppp.fr/schedule2019/">The first CPPP in 2019</a> was my very first C++ conference to attend. I went there and I saw some very engaging presentations. I was dreaming about once participating as a speaker.</p><p>Two years later, it became the reality! I could even share what I know in 2 talks and besides I signed up for a lightning talk.</p><p>So how did it go?</p><p>My presentation on <a href="https://www.codereckons.com/speakers/sandor-dargo">The Concepts of concepts</a> went really well. It was not the first time for me to present something similar, though the presentation keeps evolving based on my experience and on my knowledge.</p><p>Probably for the first time, I was really satisfied at the end when I turned off the streaming. I shared everything I wanted and I didn’t feel that sometimes the words hadn’t come.</p><p>I cannot feel the same way regarding <a href="https://www.codereckons.com/speakers/2.-sandor-dargo">Parameterized tests with Gtest</a>. I was facing two issues. The first one was my mood. I got some worrying news about a family member who got hospitalized. My son also didn’t sleep very well, so obviously, neither we did.</p><p>The other problem was the way I prepared for this presentation. I cannot say that I was lazy, I was clearly not. I updated the article on this topic, I rewrote the repository containing the examples and I spent a lot of time polishing the slides.</p><p>I’m quite comfortable with this topic, I have explained it to my colleagues several times. I didn’t feel the need to do practice sessions.</p><p>But practice sessions are not for learning about the topic. It’s about memorizing the slides, how you built one idea on top of the other. So I should have done practice sessions to make the presentation smoother. And I added some extra slides 2 days before the presentation where I made a mistake in their order…</p><p>In any case, I hope the attendees found it useful and I learnt something once again.</p><h2 id="the-3-talks-i-loved-the-most">The 3 talks I loved the most</h2><p>Now let me mention to you 3 talks that I particularly liked.</p><h3 id="cs-superpower-by-matt-godbolt"><a href="https://www.codereckons.com/keynotes/c%2B%2B's-superpower">C++’s Superpower by Matt Godbolt</a></h3><p>CPPP 2021 opened in a very strong way, it all started with the keynote of <a href="https://www.codereckons.com/keynotes/c%2B%2B's-superpower">Matt <em>“sometimes verb”</em> Godbolt</a>. His talk had 2 main parts. In the first one, he iterated over what might be considered the superpower of C++, what it is in his view and then he showcased it.</p><p>So first thing first. What is the superpower of C++?</p><p>You might think about ubiquity, meaning that C++ is there everywhere. In mobiles, cars, in whatever is critical, now even on the web with the spread of wasm.</p><p>You might think that the superpower is performance and given some later talks on the effect of C++ on CO2 emissions, I think this might be a real superpower, but it’s not what Matt meant at this time.</p><p>The multi-paradigm approach makes C++ very versatile and we can write code in so many different ways, but still, it’s not what Matt had in mind.</p><p>Not even a clear object lifetime, but that’s also great.</p><p>No, for him it’s the legacy support. You take a very old codebase and most likely it’ll still work with modern compilers with a few things to fix maybe.</p><p>So in the second part, he explained how he took a codebase from his student years and updated it step by step to follow modern C++ practices and use the features available in C++17.</p><p>I think all the techniques, approaches he detailed will come in handy for everyone working on legacy code.</p><h3 id="the-performance-price-of-virtual-functions-by-ivica-bogosavljevic"><a href="https://www.codereckons.com/speakers/ivica-bogosavljevic">The Performance Price of Virtual Functions by Ivica Bogosavljevic</a></h3><p><a href="https://twitter.com/i_bogosavljevic">Ivica</a> delivered a very practical talk about something we heard so many myths about. The costs of virtual functions, something many of us are afraid of!</p><p>I’m in no way in the position to reiterate everything he said about jump destination caching or instruction cache eviction.</p><p>I’d rather just mention a couple of important points and let you watch the video.</p><p>Ivica shared that often the virtual functions’ performance is not tested in relevant ways, not how they are used in real life. According to his measurements, big virtual functions have no relevant overheads compared to their non-virtual versions. Short functions do have a penalty of about 20% and it’s mostly because virtual functions cannot be inlined, cannot be optimized that way. Long functions wouldn’t be inlined anyway, so hence there is no problem there.</p><p>On the other hand, vectors of pointers perform much worse than vectors of objects because of all the heap allocations leading to cache misses during the iteration.</p><p>That can actually make your processing even 7 times slower which is quite significant. He proposed different solutions to avoid this problem, in particular using a variant combined with a visitor or having different vectors for the different types (no pointers!) and doing what is called type based processing.</p><p>In any case, one of his key messages was that if you have to optimize the code in terms of performance, always think about the hot code, the code that is frequently executed, otherwise, you won’t achieve relevant results.</p><h3 id="the-discussions">The discussions!</h3><p>I was hesitating whether I should detail <a href="https://www.codereckons.com/speakers/lo%C3%AFc-joly">How I learned to stop worrying and love MISRA</a> by <a href="https://www.linkedin.com/in/lo%C3%AFc-joly-1493391/">Loïc Joly</a> or the discussions we had. As you see, I went with the discussion, but I recommend you to watch the talk on MISRA - once it’s available.</p><p>It was a bit unclear first in the agenda what the dark pink colour meant.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/cppp-pink.png" alt="CPPP Pink schedule" /></p><p>Then someone asked in the discord chat and it became clear. It was timeslots for discussions around dedicated topics.</p><p>I think that in Covid, conferences are struggling to provide an experience that justifies buying the tickets and not simply waiting a couple of weeks and watching the talks on Youtube. Talks that are often the same between the different conferences.</p><p>One way - maybe the only way - of achieving this is through the discussions. What I particularly liked about CPPP’s solution is that the topics were set in advance.</p><p>Probably because I’m an introvert, I barely join “lounges”, “discussion rooms” with no topics. But when I see that there is a room dedicated for legacy code and I do have questions I want to ask others, I’ll definitely join.</p><p>While I didn’t always join the rooms during lunchtimes, I always joined the others and I actively participated in the discussions. That was a completely new conference experience for me, hence it made it to this list.</p><h2 id="three-catchy-ideas">Three catchy ideas</h2><p>Now let me highlight 3 ideas from various presentations.</p><h3 id="use-c-for-a-greener-planet">Use C++ for a greener planet</h3><p>Sometimes an image is worth more than a 1000 words.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/carbon_footprint.png" alt="Carbon footprint" /></p><p>C++ is so much more performant than most of the other languages! Software written in C++ consumes way less than software written in PHP, Python, TS or Ruby.</p><p>It’s not only C++, <a href="https://thenewstack.io/which-programming-languages-use-the-least-electricity/?s=09">C and Rust would perform similarly</a>. That’s not the point.</p><p>The point is that writing software in these high-level languages out of “intellectual laziness” (<em><a href="https://twitter.com/mrkkrj/status/1467798371670925315">thanks Marek!</a></em>) is damaging the planet.</p><p>I find this topic really interesting and I don’t want it to take over the whole trip report, I’ll elaborate on this later.</p><h3 id="push--vs-pull-based-iterations">Push- vs pull-based iterations</h3><p><a href="https://twitter.com/BarryRevzin">Barry Revzin</a> delivered <a href="https://www.codereckons.com/keynotes/iterators-and-ranges%3A-comparing-c%2B%2B-to-d%2C-rust%2C-and-others">a very interesting keynote on iterators and ranges</a>. He compared the design behind these concepts in different languages. He focused mainly on C++, D and Rust, but he covered a bit also Python and Java.</p><p>I’d like to highlight one topic, one concept that was completely new to me. The notation of and differences between push- and pull-based iterations.</p><p>I don’t want to go into the very details, so in brief:</p><p>When you have an iterator that pushes elements out to you and you have to implement a function that you pass to this iterator, we talk about push-based iteration. The function basically consumes these values and they don’t get outside.</p><p>On the other hand, when you have to pull elements out of this iterator that are exposed then, we talk about pull-based iteration.</p><p>Things are not black and white, as Barry’s example shows a push-based iteration is often implemented by a pull-based one. Let me borrow and share his example:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="k">template</span> <span class="o">&lt;</span><span class="n">intput_iterator</span> <span class="n">I</span><span class="p">,</span> <span class="n">sentinel_for</span><span class="o">&lt;</span><span class="n">I</span><span class="p">&gt;</span> <span class="n">S</span><span class="o">&gt;</span>
<span class="k">class</span> <span class="nc">cpp_stream</span> <span class="p">{</span>
  <span class="n">I</span> <span class="n">first</span><span class="p">;</span>
  <span class="n">S</span> <span class="n">last</span><span class="p">;</span>
<span class="nl">public:</span>
  <span class="k">using</span> <span class="n">reference</span> <span class="o">=</span> <span class="n">iter_reference_t</span><span class="o">&lt;</span><span class="n">I</span><span class="o">&gt;</span><span class="p">;</span>

  <span class="k">template</span><span class="o">&lt;</span><span class="n">invocable</span><span class="o">&lt;</span><span class="n">referece</span><span class="p">&gt;</span> <span class="n">F</span><span class="o">&gt;</span>
  <span class="kt">void</span> <span class="n">for_each</span><span class="p">(</span><span class="n">F</span> <span class="n">f</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(;</span> <span class="n">first</span> <span class="o">!=</span> <span class="n">last</span><span class="p">;</span> <span class="o">++</span><span class="n">first</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// pull based iteration</span>
      <span class="n">invoke</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="n">first</span><span class="p">);</span> <span class="c1">// item pulled from the iterator</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>


<span class="k">template</span><span class="o">&lt;</span><span class="n">Stream</span> <span class="n">S</span><span class="p">&gt;</span>
<span class="kt">void</span> <span class="nf">print_all</span><span class="p">(</span><span class="n">S</span> <span class="n">stream</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">stream</span><span class="p">.</span><span class="n">for_each</span><span class="p">([](</span><span class="k">auto</span><span class="o">&amp;&amp;</span><span class="p">){</span>  <span class="c1">// push based iteration, elements are kept inside</span>
    <span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">"{}</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">elem</span><span class="p">);</span> 
  <span class="p">});</span>
<span class="p">}</span>
</pre></table></code></div></div><h3 id="ycombinator-for-recursive-lambdas">YCombinator for recursive lambdas</h3><p>Lambdas are not recursive. They cannot call themselves. It makes sense after all. A lambda is an anonymous function and has no name. You might save it a variable, but it’s still not something that knows about itself.</p><p>And while probably you cannot come up with any good reason to have a lambda calling itself, it’s still possible to achieve it.</p><p>In <a href="https://www.codereckons.com/keynotes/on-the-aesthetics-of-code">On the Aesthetics of Code</a>, <a href="https://twitter.com/TartanLlama">Sy Brand</a> shared a story about how they thought to show the interviewer their smartness, but as you can imagine it was not how it was perceived. In any case, I borrow their code to share with you how to turn a lambda into recursive:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp">
</span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">Fun</span><span class="p">&gt;</span>
<span class="k">class</span> <span class="nc">y_combinator_result</span> <span class="p">{</span>
  <span class="n">Fun</span> <span class="n">fun_</span><span class="p">;</span>
<span class="nl">public:</span>
  <span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
  <span class="k">explicit</span> <span class="n">y_combinator_result</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">fun</span><span class="p">)</span><span class="o">:</span>
    <span class="n">fun_</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fun</span><span class="p">))</span> <span class="p">{}</span>

  <span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="o">...</span><span class="nc">Args</span><span class="p">&gt;</span>
  <span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span> <span class="k">operator</span><span class="p">()(</span><span class="n">Args</span> <span class="o">&amp;&amp;</span><span class="p">...</span><span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">fun_</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">ref</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">),</span>
                <span class="n">std</span><span class="o">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">Args</span><span class="o">&gt;</span><span class="p">(</span><span class="n">args</span><span class="p">)...);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">Fun</span><span class="p">&gt;</span>
<span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span> <span class="n">y_combinator</span><span class="p">(</span><span class="n">Fun</span> <span class="o">&amp;&amp;</span><span class="n">fun</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">y_combinator_result</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">decay_t</span><span class="o">&lt;</span><span class="n">Fun</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">Fun</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fun</span><span class="p">));</span>
<span class="p">}</span>
</pre></table></code></div></div><p>And how to use it?</p><p>Here is a simple example:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">gcd</span> <span class="o">=</span> <span class="n">y_combinator</span><span class="p">([](</span><span class="k">auto</span> <span class="n">gcd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">b</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="n">a</span> <span class="o">:</span> <span class="n">gcd</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span><span class="p">);</span>
<span class="p">});</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">gcd</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
</pre></table></code></div></div><p>To go into details on how and why the y-combinator works is way beyond the scope of a trip report. If you want to learn more about it (you’ll also find more references) <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0200r0.html">click here</a>.</p><h2 id="rooms-for-improvement">Rooms for improvement?</h2><p>I mentioned in my previous trip report on <a href="https://www.sandordargo.com/blog/2021/11/17/trip-rerport-meetingcpp-2021">Meeting C++</a> that I don’t believe that reports mentioning the not fully shiny parts are realistic. I know it might hurt people, though that’s clearly not my point and I don’t think I share these ideas in a hurtful way.</p><p>In this case, I’d mention two things. One is specific to CPPP, the other is a more common problem that I see.</p><p>I think the schedule page could be improved. At least some footnotes on the colour codes would ease the understanding of what yellow and pink mean without having to think about it. I think wouldn’t be a big work.</p><p>Ideally, you wouldn’t only have a button to see the whole schedule in Google calendar, but you’d have a button to add a specific talk to your calendar of choice (not only Google Calendar) and - if feasible - with a link to the live stream in it.</p><p>The other thing is not specific to CPPP. I went to 5 C++ conferences this year, and I feel more and more how difficult the job of the organizers is with the pandemic.</p><p>Before, it was easier to sell your conference saying that well, we target mostly French, Italian, German, English, etc. developers for the obvious reason of physical locality.</p><p>This is almost impossible now. The only thing that makes something localish is the time zone. The number of people willing to present seems very limited and let’s face it, the talks are often very similar. I see people sharing the same talk (including me) 3-4 times. And while no two talks are the same (talks evolve and the presenters gain more and more experience), I think it’s hard to sell tickets like that.</p><p>I see no solution for this, because</p><ul><li>the number of people willing to present doesn’t just grow by wishing for it<li>the presenters most often prepare the talks on their personal time, they don’t have the time to create 2-3 or more brand new different talks each year.</ul><p>Hopefully, Covid ends soon and organizers will be in a better position to target their - local - audience.</p><h2 id="conclusion">Conclusion</h2><p>With going to and presenting at CPPP a dream came true, I finished a journey that I started in 2019. I could give something back, I could contribute and I proved to myself that I can understand something in a deeper way so that I can present it to my fellows. I know this is just the beginning.</p><p>As an attendee, I really enjoyed CPPP! By this time I learnt to enjoy online conferences. It was smooth and high-quality in every sense, I’d be happy to go back next year. Hopefully to Paris.</p><p>Till then, I encourage you to watch the videos - I’ll update the article with the links, once they are available.</p><p>Thanks a lot, <a href="https://twitter.com/FredTingaudDev">Fred</a>, <a href="https://github.com/jfalcou">Joël</a> and all the organizers for making this conference happen!</p><h2 id="connect-deeper">Connect deeper</h2><p>If you liked this article, please</p><ul><li>hit on the like button,<li><a href="http://eepurl.com/gvcv1j">subscribe to my newsletter</a><li>and let’s connect on <a href="https://twitter.com/SandorDargo">Twitter</a>!</ul><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/dev/'>dev</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/cpp/" class="post-tag no-text-decoration" >cpp</a> <a href="/tags/conference/" class="post-tag no-text-decoration" >conference</a> <a href="/tags/cppp/" class="post-tag no-text-decoration" >cppp</a> <a href="/tags/tripreport/" class="post-tag no-text-decoration" >tripreport</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a><div class="share-wrapper"> <a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Trip Report: CPPP 2021 - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2021/12/15/trip-report-cppp2021" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Trip Report: CPPP 2021 - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2021/12/15/trip-report-cppp2021" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Trip Report: CPPP 2021 - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2021/12/15/trip-report-cppp2021" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://news.ycombinator.com/submitlink?t=Trip Report: CPPP 2021 - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2021/12/15/trip-report-cppp2021" data-toggle="tooltip" data-placement="top" title="HackerNews" target="_blank" rel="noopener" aria-label="HackerNews"> <i class="fa-fw fab fa-hacker-news"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/blog/2026/01/21/clocks-part-8-cpp20-timezones">Time in C++: C++20 Brought Us Time Zones</a><li><a href="/blog/2019/04/10/lesson-of-a-booking-dont-trust-the-system">Lesson of a booking: Don't trust the system!</a><li><a href="/blog/2020/07/22/always-catch-exceptions-by-reference">Why should we always catch exceptions by reference?</a><li><a href="/blog/2020/11/28/emergent-design">Emergent Design: The Evolutionary Nature of Professional Software Development by Scott Bain</a><li><a href="/blog/2021/10/06/airy-code-reviews">Bring some fresh AIR and write effective code review comments</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self-improvement</a> <a class="post-tag" href="/tags/management/">management</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/blog/2024/07/10/cpponsea2024-trip-report"><div class="card-body"> <span class="timeago small" > Jul 10, 2024 <i class="unloaded">2024-07-10T00:00:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Trip report: C++ On Sea 2024</h3><div class="text-muted small"><p> Last week, between the 3rd and 5th of July, I had the privilege to attend and present at C++ on Sea 2024 for the 5th time in a row! I’m grateful that the organizers accepted me not simply as a spe...</p></div></div></a></div><div class="card"> <a href="/blog/2025/03/05/trip-report-cpponline-2025"><div class="card-body"> <span class="timeago small" > Mar 5, 2025 <i class="unloaded">2025-03-05T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Trip report: C++ Online 2025</h3><div class="text-muted small"><p> Right at the very end of February, the C++ conference season was opened by the second edition of C++ Online. I think it won’t take you by surprise that this was an online conference. In a certain w...</p></div></div></a></div><div class="card"> <a href="/blog/2025/07/02/cpponsea-trip-report"><div class="card-body"> <span class="timeago small" > Jul 2, 2025 <i class="unloaded">2025-07-02T00:00:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Trip report: C++ On Sea 2025</h3><div class="text-muted small"><p> Another year, another trip report from C++ On Sea! First, a heartfelt thank-you to the organizers for inviting me to speak, and an equally big thank-you to my wife for taking care of the kids whil...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/blog/2021/12/11/how-to-measure-anything" class="btn btn-outline-primary" prompt="Older"><p>How to Measure Anything: Finding the Value of Intangibles in Business by Douglas W. Hubbard</p></a> <a href="/blog/2021/12/22/most-vexing-parse" class="btn btn-outline-primary" prompt="Newer"><p>What is the most vexing parse?</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//sandordargo-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Trip Report: CPPP 2021'; this.page.url = 'https://www.sandordargo.com/blog/2021/12/15/trip-report-cppp2021'; this.page.identifier = '/blog/2021/12/15/trip-report-cppp2021'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><div id="amzn-assoc-ad-be5a767b-3346-40aa-bc00-2eff0ce33d2b"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=be5a767b-3346-40aa-bc00-2eff0ce33d2b"></script> <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script> <script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">require(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us16.list-manage.com","uuid":"b073dbd5c29322302f59a8cd8","lid":"d26240427e"}) })</script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://twitter.com/SandorDargo">Sandor Dargo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self improvement</a> <a class="post-tag" href="/tags/management/">management</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.sandordargo.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
