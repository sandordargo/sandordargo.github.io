<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="The big STL Algorithms tutorial: partitioning operations" /><meta property="og:locale" content="en_US" /><meta name="description" content="In this next part of the big STL algorithm tutorial, we cover the partitioning operations - except for ranges which will be covered in a different series." /><meta property="og:description" content="In this next part of the big STL algorithm tutorial, we cover the partitioning operations - except for ranges which will be covered in a different series." /><link rel="canonical" href="https://www.sandordargo.com/blog/2021/01/20/stl-alogorithms-tutorial-part-18-partitioning" /><meta property="og:url" content="https://www.sandordargo.com/blog/2021/01/20/stl-alogorithms-tutorial-part-18-partitioning" /><meta property="og:site_name" content="Sandor Dargo’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-20T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="The big STL Algorithms tutorial: partitioning operations" /><meta name="twitter:site" content="@SandorDargo" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-01-20T00:00:00+01:00","datePublished":"2021-01-20T00:00:00+01:00","description":"In this next part of the big STL algorithm tutorial, we cover the partitioning operations - except for ranges which will be covered in a different series.","headline":"The big STL Algorithms tutorial: partitioning operations","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sandordargo.com/blog/2021/01/20/stl-alogorithms-tutorial-part-18-partitioning"},"url":"https://www.sandordargo.com/blog/2021/01/20/stl-alogorithms-tutorial-part-18-partitioning"}</script><title>The big STL Algorithms tutorial: partitioning operations | Sandor Dargo's Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-89625019-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-89625019-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/SANDOR_DARGO_ROUND.JPG" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Sandor Dargo's Blog</a></div><div class="site-subtitle font-italic">On C++, software development and books</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/books/" class="nav-link"> <i class="fa-fw fas fa-book ml-xl-3 mr-xl-3 unloaded"></i> <span>BOOKS</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-microphone ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a><li class="nav-item"> <a href="/dailycpp/" class="nav-link"> <i class="fa-fw fas fa-link ml-xl-3 mr-xl-3 unloaded"></i> <span>DAILY C++</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>HI...</span> </a></ul><ul class="w-100"><li class="nav-item"> <a href="https://www.patreon.com/sandordargo" class="nav-link"> <img src="https://c5.patreon.com/external/logo/become_a_patron_button.png"></a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/sandordargo" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/SandorDargo" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sandor.dargo','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/blog"> Blog </a> </span> <span> <a href="/2021"> 2021 </a> </span> <span> <a href="/01"> 01 </a> </span> <span> <a href="/20"> 20 </a> </span> <span>The big STL Algorithms tutorial: partitioning operations</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>The big STL Algorithms tutorial: partitioning operations</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Sandor Dargo </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Jan 20, 2021, 12:00 AM +0100" prep="on" > Jan 20, 2021 <i class="unloaded">2021-01-20T00:00:00+01:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1687 words">9 min</span></div></div><div class="post-content"><p>In this next part of <a href="http://sandordargo.com/blog/2019/01/30/stl-algos-intro">the big STL algorithm tutorial</a>, we cover the partitioning operations - except for ranges which will be covered in a different series.</p><ul><li><code class="language-plaintext highlighter-rouge">is_partitioned</code><li><code class="language-plaintext highlighter-rouge">partition</code><li><code class="language-plaintext highlighter-rouge">partition_copy</code><li><code class="language-plaintext highlighter-rouge">stable_partition</code><li><code class="language-plaintext highlighter-rouge">partition_point</code></ul><h2 id="is_partitioned"><code class="language-plaintext highlighter-rouge">is_partitioned</code></h2><p><code class="language-plaintext highlighter-rouge">std::is_partitioned</code> checks whether a range is partitioned by a given predicate. But what does <em>partitioned</em> mean?</p><p>Let’s say that you have a list of cars and each car - among others - has an attribute of transmission. A car’s gearbox is either manual or automatic. If a range of cars is considered partitioned, then all the manual cars will appear before all automatic. Or the other way around, depending on how the predicate is written.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span>
<span class="k">enum</span> <span class="k">class</span> <span class="nc">Transmission</span> <span class="p">{</span><span class="n">Automatic</span><span class="p">,</span> <span class="n">Manual</span><span class="p">};</span>

<span class="k">struct</span> <span class="nc">Car</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">horsePower</span><span class="p">;</span>
  <span class="n">Transmission</span> <span class="n">transmission</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span> <span class="n">unpartitionedCars</span> <span class="p">{</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">100</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">80</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">120</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
  <span class="p">};</span>

  <span class="n">std</span><span class="o">::</span><span class="n">vector</span> <span class="n">partitionedCars</span> <span class="p">{</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">80</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">100</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">120</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
  <span class="p">};</span>

  <span class="k">auto</span> <span class="n">isManual</span> <span class="o">=</span> <span class="p">[](</span><span class="k">const</span> <span class="n">Car</span><span class="o">&amp;</span> <span class="n">car</span> <span class="p">){</span> <span class="k">return</span> <span class="n">car</span><span class="p">.</span><span class="n">transmission</span> <span class="o">==</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">;};</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">boolalpha</span><span class="p">;</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"unpartitionedCars is_partitioned? "</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">is_partitioned</span><span class="p">(</span>
    <span class="n">unpartitionedCars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">unpartitionedCars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"partitionedCars is_partitioned? "</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">is_partitioned</span><span class="p">(</span>
    <span class="n">partitionedCars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">partitionedCars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/*
unpartitionedCars is_partitioned? false
partitionedCars is_partitioned? true
*/</span>
</pre></table></code></div></div><p>As you can see, the usage is simple, first, you pass in the range by the usual begin/end iterator pairs, then your predicate as a lambda, functor or function pointer.</p><p>You’ll always get a simple boolean as an answer.</p><h2 id="partition"><code class="language-plaintext highlighter-rouge">partition</code></h2><p><code class="language-plaintext highlighter-rouge">partition</code> is a solicitation. Calling <code class="language-plaintext highlighter-rouge">partition</code> means that you ask for your range to be partitioned.</p><p>Just as for <code class="language-plaintext highlighter-rouge">is_partitioned</code>, you pass in two iterators defining a range and a unary predicate, but this time your range might be modified.</p><p>All the items satisfying the passed in predicate will be moved to the front and the non-satisfying items will come only after. It’s worth to note that the original order between the satisfying/non-satisfying items is not necessarily kept. If you need that, you should use <code class="language-plaintext highlighter-rouge">stable_partition</code>.</p><p>As a result, you’ll get an iterator pointing at the first element of the second group, so pointing at the first element not satisfying the predicate.</p><p>Let’s see an example:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span>
<span class="k">enum</span> <span class="k">class</span> <span class="nc">Transmission</span> <span class="p">{</span><span class="n">Automatic</span><span class="p">,</span> <span class="n">Manual</span><span class="p">};</span>

<span class="k">struct</span> <span class="nc">Car</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">horsePower</span><span class="p">;</span>
  <span class="n">Transmission</span> <span class="n">transmission</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span> <span class="n">cars</span> <span class="p">{</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">100</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">80</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">250</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">120</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
  <span class="p">};</span>

  <span class="k">auto</span> <span class="n">isManual</span> <span class="o">=</span> <span class="p">[](</span><span class="k">const</span> <span class="n">Car</span><span class="o">&amp;</span> <span class="n">car</span> <span class="p">){</span> <span class="k">return</span> <span class="n">car</span><span class="p">.</span><span class="n">transmission</span> <span class="o">==</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">;};</span>
  <span class="k">auto</span> <span class="n">printCar</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="k">const</span> <span class="n">Car</span><span class="o">&amp;</span> <span class="n">car</span> <span class="p">){</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Car: "</span> <span class="o">&lt;&lt;</span> <span class="n">car</span><span class="p">.</span><span class="n">horsePower</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">isManual</span><span class="p">(</span><span class="n">car</span><span class="p">)</span> <span class="o">?</span> <span class="s">"manual"</span> <span class="o">:</span> <span class="s">"automatic"</span> <span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;};</span>
  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">boolalpha</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Cars:</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">for_each</span><span class="p">(</span><span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">printCar</span><span class="p">);</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"cars is_partitioned? "</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">is_partitioned</span><span class="p">(</span>
    <span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">partition</span><span class="p">(</span><span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">);</span>
  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Cars:</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">for_each</span><span class="p">(</span><span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">printCar</span><span class="p">);</span>  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"cars is_partitioned? "</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">is_partitioned</span><span class="p">(</span>
    <span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>

<span class="p">}</span>
<span class="cm">/*
Cars:
Car: 100 automatic
Car: 80 manual
Car: 250 manual
Car: 120 automatic

cars is_partitioned? false

Cars:
Car: 250 manual
Car: 80 manual
Car: 100 automatic
Car: 120 automatic

cars is_partitioned? true
*/</span>
</pre></table></code></div></div><h2 id="partition_copy"><code class="language-plaintext highlighter-rouge">partition_copy</code></h2><p><code class="language-plaintext highlighter-rouge">partition_copy</code> has a very similar functionality compared to <code class="language-plaintext highlighter-rouge">partition</code>. The only difference is that it leaves the original input range intact and instead it copies the partitioned element into another range.</p><p>In fact, into two other ranges and it makes this algorithm quite interesting and requires a bit more attention.</p><p>The first two parameters are defining the inputs, then there are two other iterators taken.</p><p>The first output iterator (third parameter) should point at the beginning of the range where you want to copy the elements satisfying the predicate (the predicate is to be passed as a fifth parameter.)</p><p>The second output iterator (fourth parameter) points at the beginning of the range where you want to copy the elements not matching the predicate.</p><p>There are a couple of things you have to make sure</p><ul><li>as usual, the output ranges are defined by only their beginning. You either have to make sure that they are big enough to accommodate all the items that will be copied into them, or you pass an inserter iterator (<code class="language-plaintext highlighter-rouge">std::back_inserter</code>)<li>the other noticeable items is that we have to output ranges and we have to make sure that there is no overlap between them. As we don’t pass containers but iterators, we can easily pass iterators pointing to the same container, but if you don’t like trouble, it’s better to just create two different containers for the matching and non-matching elements and use them.</ul><p><code class="language-plaintext highlighter-rouge">partition_copy</code> returns a pair of iterators with the first pointing after the last matching copied element and the other pointing similarly after the last non-matching copied element.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span>
<span class="k">enum</span> <span class="k">class</span> <span class="nc">Transmission</span> <span class="p">{</span><span class="n">Automatic</span><span class="p">,</span> <span class="n">Manual</span><span class="p">};</span>

<span class="k">struct</span> <span class="nc">Car</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">horsePower</span><span class="p">;</span>
  <span class="n">Transmission</span> <span class="n">transmission</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span> <span class="n">cars</span> <span class="p">{</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">100</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">80</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">250</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">120</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
  <span class="p">};</span>

  <span class="k">auto</span> <span class="n">isManual</span> <span class="o">=</span> <span class="p">[](</span><span class="k">const</span> <span class="n">Car</span><span class="o">&amp;</span> <span class="n">car</span> <span class="p">){</span> <span class="k">return</span> <span class="n">car</span><span class="p">.</span><span class="n">transmission</span> <span class="o">==</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">;};</span>
  <span class="k">auto</span> <span class="n">printCar</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="k">const</span> <span class="n">Car</span><span class="o">&amp;</span> <span class="n">car</span> <span class="p">){</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Car: "</span> <span class="o">&lt;&lt;</span> <span class="n">car</span><span class="p">.</span><span class="n">horsePower</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">isManual</span><span class="p">(</span><span class="n">car</span><span class="p">)</span> <span class="o">?</span> <span class="s">"manual"</span> <span class="o">:</span> <span class="s">"automatic"</span> <span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;};</span>
  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">boolalpha</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Cars:</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">for_each</span><span class="p">(</span><span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">printCar</span><span class="p">);</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  
  
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Car</span><span class="o">&gt;</span> <span class="n">manualCars</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Car</span><span class="o">&gt;</span> <span class="n">automaticCars</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">partition_copy</span><span class="p">(</span><span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">std</span><span class="o">::</span><span class="n">back_inserter</span><span class="p">(</span><span class="n">manualCars</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">back_inserter</span><span class="p">(</span><span class="n">automaticCars</span><span class="p">),</span> <span class="n">isManual</span><span class="p">);</span>
  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"manual Cars:</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">for_each</span><span class="p">(</span><span class="n">manualCars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">manualCars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">printCar</span><span class="p">);</span>  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"automatic Cars:</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">for_each</span><span class="p">(</span><span class="n">automaticCars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">automaticCars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">printCar</span><span class="p">);</span>  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/*
Cars:
Car: 100 automatic
Car: 80 manual
Car: 250 manual
Car: 120 automatic

manual Cars:
Car: 80 manual
Car: 250 manual

automatic Cars:
Car: 100 automatic
Car: 120 automatic
*/</span>
</pre></table></code></div></div><p>I found no guarantees, but it seems (not only based on the above example) that the relative order of the elements is preserved. That’s something that was explicitly not guaranteed for <code class="language-plaintext highlighter-rouge">partition</code></p><h2 id="stable_partition"><code class="language-plaintext highlighter-rouge">stable_partition</code></h2><p>What was clearly said for <code class="language-plaintext highlighter-rouge">partition</code>, namely that the relative order of the elements partitioned into their categories is not kept, <code class="language-plaintext highlighter-rouge">stable_partition</code> has this guarantee.</p><p>If two items belong to the same category, their relative order will be the same before and after partitioning.</p><p>Apart from that, there is no difference between <code class="language-plaintext highlighter-rouge">partition</code> and <code class="language-plaintext highlighter-rouge">stable_partition</code>, there is no difference in the way you have to use them.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span>
<span class="k">enum</span> <span class="k">class</span> <span class="nc">Transmission</span> <span class="p">{</span><span class="n">Automatic</span><span class="p">,</span> <span class="n">Manual</span><span class="p">};</span>

<span class="k">struct</span> <span class="nc">Car</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">horsePower</span><span class="p">;</span>
  <span class="n">Transmission</span> <span class="n">transmission</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span> <span class="n">cars</span> <span class="p">{</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">100</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">80</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">250</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">120</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
  <span class="p">};</span>

  <span class="k">auto</span> <span class="n">isManual</span> <span class="o">=</span> <span class="p">[](</span><span class="k">const</span> <span class="n">Car</span><span class="o">&amp;</span> <span class="n">car</span> <span class="p">){</span> <span class="k">return</span> <span class="n">car</span><span class="p">.</span><span class="n">transmission</span> <span class="o">==</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">;};</span>
  <span class="k">auto</span> <span class="n">printCar</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="k">const</span> <span class="n">Car</span><span class="o">&amp;</span> <span class="n">car</span> <span class="p">){</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Car: "</span> <span class="o">&lt;&lt;</span> <span class="n">car</span><span class="p">.</span><span class="n">horsePower</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">isManual</span><span class="p">(</span><span class="n">car</span><span class="p">)</span> <span class="o">?</span> <span class="s">"manual"</span> <span class="o">:</span> <span class="s">"automatic"</span> <span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;};</span>
  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">boolalpha</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Cars:</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">for_each</span><span class="p">(</span><span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">printCar</span><span class="p">);</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"cars is_partitioned? "</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">is_partitioned</span><span class="p">(</span>
    <span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">stable_partition</span><span class="p">(</span><span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">);</span>
  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Cars:</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">for_each</span><span class="p">(</span><span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">printCar</span><span class="p">);</span>  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"cars is_partitioned? "</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">is_partitioned</span><span class="p">(</span>
    <span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>

<span class="p">}</span>
<span class="cm">/*
Cars:
Car: 100 automatic
Car: 80 manual
Car: 250 manual
Car: 120 automatic

cars is_partitioned? false

Cars:
Car: 80 manual
Car: 250 manual
Car: 100 automatic
Car: 120 automatic

cars is_partitioned? true
*/</span>
</pre></table></code></div></div><p>If you check the results of the example with the provided results of <code class="language-plaintext highlighter-rouge">partition</code> you can also observe that the relative order was not kept before, but<br /> now it is.</p><h2 id="partition_point"><code class="language-plaintext highlighter-rouge">partition_point</code></h2><p><code class="language-plaintext highlighter-rouge">partition_point</code> as its name suggests will return you the dividing point between the matching and non-matching points.</p><p>In other words, <code class="language-plaintext highlighter-rouge">partition_point</code> comes with a contract asking for already partitioned inputs. As usual, calls with invalid arguments are subject to undefined behaviour.</p><p><code class="language-plaintext highlighter-rouge">partition_point</code> returns an iterator past the end of the first partition, or the last element if all elements match the predicate. Just like <code class="language-plaintext highlighter-rouge">partition</code> or <code class="language-plaintext highlighter-rouge">stable_partition</code>.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span>
<span class="k">enum</span> <span class="k">class</span> <span class="nc">Transmission</span> <span class="p">{</span><span class="n">Automatic</span><span class="p">,</span> <span class="n">Manual</span><span class="p">};</span>

<span class="k">struct</span> <span class="nc">Car</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">horsePower</span><span class="p">;</span>
  <span class="n">Transmission</span> <span class="n">transmission</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span> <span class="n">cars</span> <span class="p">{</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">100</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">80</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">250</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">},</span>
    <span class="n">Car</span><span class="p">{</span><span class="mi">120</span><span class="p">,</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Automatic</span><span class="p">},</span>
  <span class="p">};</span>

  <span class="k">auto</span> <span class="n">isManual</span> <span class="o">=</span> <span class="p">[](</span><span class="k">const</span> <span class="n">Car</span><span class="o">&amp;</span> <span class="n">car</span> <span class="p">){</span> <span class="k">return</span> <span class="n">car</span><span class="p">.</span><span class="n">transmission</span> <span class="o">==</span> <span class="n">Transmission</span><span class="o">::</span><span class="n">Manual</span><span class="p">;};</span>
  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">boolalpha</span><span class="p">;</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"cars is_partitioned? "</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">is_partitioned</span><span class="p">(</span>
    <span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  <span class="k">auto</span> <span class="n">partitionResult</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">partition</span><span class="p">(</span><span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">partitionPoint</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">partition_point</span><span class="p">(</span><span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">);</span>
  
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"cars is_partitioned? "</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">is_partitioned</span><span class="p">(</span>
    <span class="n">cars</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">cars</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">isManual</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"partitionResult == partitionPoint: "</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">partitionResult</span> <span class="o">==</span> <span class="n">partitionPoint</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/*
cars is_partitioned? false
cars is_partitioned? true
partitionResult == partitionPoint:true
*/</span>
</pre></table></code></div></div><h2 id="conclusion">Conclusion</h2><p>Today, we learned about partitioning algorithms. They allow us to separate elements of a container based on any predicate we might want to define. Next time we are going to discuss sorting algorithms. Stay tuned!</p><h2 id="connect-deeper">Connect deeper</h2><p>If you found interesting this article, please <a href="http://eepurl.com/gvcv1j">subscribe to my personal blog</a> and let’s connect on <a href="https://twitter.com/SandorDargo">Twitter</a>!</p><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/dev/'>dev</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/cpp/" class="post-tag no-text-decoration" >cpp</a> <a href="/tags/tutorial/" class="post-tag no-text-decoration" >tutorial</a> <a href="/tags/stl/" class="post-tag no-text-decoration" >stl</a> <a href="/tags/algorithms/" class="post-tag no-text-decoration" >algorithms</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a><div class="share-wrapper"> <a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=The big STL Algorithms tutorial: partitioning operations - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2021/01/20/stl-alogorithms-tutorial-part-18-partitioning" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=The big STL Algorithms tutorial: partitioning operations - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2021/01/20/stl-alogorithms-tutorial-part-18-partitioning" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=The big STL Algorithms tutorial: partitioning operations - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2021/01/20/stl-alogorithms-tutorial-part-18-partitioning" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://news.ycombinator.com/submitlink?t=The big STL Algorithms tutorial: partitioning operations - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2021/01/20/stl-alogorithms-tutorial-part-18-partitioning" data-toggle="tooltip" data-placement="top" title="HackerNews" target="_blank" rel="noopener" aria-label="HackerNews"> <i class="fa-fw fab fa-hacker-news"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/blog/2026/01/21/clocks-part-8-cpp20-timezones">Time in C++: C++20 Brought Us Time Zones</a><li><a href="/blog/2019/04/10/lesson-of-a-booking-dont-trust-the-system">Lesson of a booking: Don't trust the system!</a><li><a href="/blog/2020/07/22/always-catch-exceptions-by-reference">Why should we always catch exceptions by reference?</a><li><a href="/blog/2020/11/28/emergent-design">Emergent Design: The Evolutionary Nature of Professional Software Development by Scott Bain</a><li><a href="/blog/2021/10/06/airy-code-reviews">Bring some fresh AIR and write effective code review comments</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self-improvement</a> <a class="post-tag" href="/tags/management/">management</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/blog/2019/01/30/stl-algos-intro"><div class="card-body"> <span class="timeago small" > Jan 30, 2019 <i class="unloaded">2019-01-30T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>The big STL Algorithms tutorial: Introduction</h3><div class="text-muted small"><p> I’ve already written quite a few articles about features introduced by C++ 11 and how much it changed how I look at the language. The feature I liked the most is probably the one of lambda expressi...</p></div></div></a></div><div class="card"> <a href="/blog/2019/02/20/stl-algorithm-tutorial-part-1-any-all-none"><div class="card-body"> <span class="timeago small" > Feb 20, 2019 <i class="unloaded">2019-02-20T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>The big STL Algorithms tutorial: all_of, any_of, none_of</h3><div class="text-muted small"><p> In this first part of the big STL algorithm tutorial, I’ll start with the first chunk of the non-modifying sequence operations. Namely, in this post, you are going to read about all_of, any_of an...</p></div></div></a></div><div class="card"> <a href="/blog/2019/04/03/stl-algorithm-tutorial-part-2-for_each"><div class="card-body"> <span class="timeago small" > Apr 3, 2019 <i class="unloaded">2019-04-03T00:00:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>The big STL Algorithms tutorial: for_each</h3><div class="text-muted small"><p> In this next part of the big STL algorithm tutorial, I’ll explain only one function. The for_each algorithm. What does it do? for_each takes a range and a function to apply on each element of th...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/blog/2021/01/13/awaken-the-giant-within" class="btn btn-outline-primary" prompt="Older"><p>Awaken the giant within by Tony Robbins</p></a> <a href="/blog/2021/01/23/passion-leads-to-specialization" class="btn btn-outline-primary" prompt="Newer"><p>Passion leads to specialization!</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//sandordargo-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'The big STL Algorithms tutorial: partitioning operations'; this.page.url = 'https://www.sandordargo.com/blog/2021/01/20/stl-alogorithms-tutorial-part-18-partitioning'; this.page.identifier = '/blog/2021/01/20/stl-alogorithms-tutorial-part-18-partitioning'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><div id="amzn-assoc-ad-be5a767b-3346-40aa-bc00-2eff0ce33d2b"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=be5a767b-3346-40aa-bc00-2eff0ce33d2b"></script> <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script> <script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">require(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us16.list-manage.com","uuid":"b073dbd5c29322302f59a8cd8","lid":"d26240427e"}) })</script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://twitter.com/SandorDargo">Sandor Dargo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self improvement</a> <a class="post-tag" href="/tags/management/">management</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.sandordargo.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
