<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Tidy First? by Kent Beck" /><meta property="og:locale" content="en_US" /><meta name="description" content="Let’s start by explaining what tidying means when it comes to software development. Maybe a decade ago, this book would have been called “Refactoring first?”, but the term “refactoring” got inflated when people started to refer to long pauses in feature development as such. Even worse, the most essential part of refactoring - it shouldn’t change the system’s behaviour - is not always respected. No new feautres, possible damage. Many stakeholders dislike refactoring. “Tidyings are the cute, fuzzy little refactorings that nobody could possibly hate on.” They usually don’t go beyond a few hours of work. When you first hold the book in your hand, you might be surprised as it’s barely a hundred pages long. It’s very dense, without any clutter, yet it’s extremely clear. It’s the first part of a series on software design. This first book covers small tidyings scaling from a few minutes to hours and focuses on the individual. The second book will target not only individual contributors but also a team of programmers and will cover refactorings that can go from a few days to a couple of weeks. Finally, the third book will be addressed to all stakeholders and will discuss architectural evolutions which often span over several years. How to tidy? Tidy first? is partitioned into three parts. The first part covers tidying techniques. If you are familiar with refactoring techniques and “clean code”, it won’t give you many surprises, but it’s a nice summary of what tools you have when you want to perform small-scale structural changes. Let me just name a few of them: use guard clauses, use helper variables and functions, and reorder code so that relevant parts are close to each other. The first part also has some valuable thoughts on comments. The author both advocates for and against comments, and this is perfectly fine! First of all, you shouldn’t refrain from writing explaining comments if you run into some complicated piece of code that you just managed to understand. Maybe you don’t have the time or the confidence to rewrite it. Yet, it would be good to avoid the next person (maybe you in a month) spending so much time once again understanding the code. Just write a comment that explains it. At the same time, “when you see a comment that says exactly what the code says, remove it. The purpose of code is to explain to other programmers what you want the computer to do.”. Comments accuracy is somewhat questionable even when they are written and later they will rot. If a piece of comment doesn’t bring value, remove it. How to present tidyings? While the first part is about how to tidy code, the second part is about its presentation. Should you post it along with behaviour changes or separately? Should you perform tidyings before or after the behaviour changes? Or maybe just later or even never? For the latter questions, the answer is that it depends on different factors. Cost is only one factor and it’s great if it can drive the decision, but you cannot always quantify how much you will gain by performing a tidying and how much it would cost if you did it later or never. Regardless of the cost, let’s not forget that programmers are human beings and we defined tidyings as short activities. Sometimes you’ll just “not have the energy to tackle a new feature, but [you] want to work”. Tidying might keep you happy and being happy will make you a better programmer. On the other hand, it’s easier to answer the first question. It’s better to present a tidying separately from behavioural changes. Code will be easier to reason about, to review and eventually to revert if you overlooked something. Economics and software design We, programmers, are human creatures who put a big emphasis on logic. It’s important to understand the theory behind certain - best - practices so that we accept it and can reason about it. The third and final part of Tidy first? attempts to uncover the theory behind software design and more specifically behind tidying. The author shares that until his mid-30s he didn’t understand the physics of moving money at all. Later, thanks to a “series of finance-related projects”, he slowly started to get it. The lessons soaked in so much that even the way he sees development changed. Two surprising properties defined his view: A dollar today is worth more than a dollar tomorrow, so earn sooner and spend later. In a chaotic situation, options are better than things, so create options in the face of uncertainty. In real life, that’s not so easy. To make future options, you have to spend money now and the value of these future options is not always possible to calculate. Still, the less a behaviour change will cost, the more options you have. The more tidying you perform, the less behaviour changes will cost. But a dollar today is still worth more than a dollar tomorrow. It’s not easy to find the right balance. One kind of change that is definitely not narrowing your list of options is reversible structural changes. Just as a bad haircut is more reversible than a bad tattoo, a structural change is more reversible than a behavioural change that might damage your reputation if it goes bad. As we know reputational damage can be permanent. In general, software design changes are reversible but behavioural changes are less so. Let’s get back to the cost of software. It’s not about the money you spend on building it. It’s more about how much it costs to change your software. The Pareto distribution applies here as well, the overall cost will be dominated by a few big changes. Those few outliers are the results of coupling. In other words, according to Constantine’s Equivalence, the cost of software can be derived from the level of coupling. Therefore, if you want to reduce how much a piece of software costs, you must reduce coupling. At the same time, “decoupling isn’t free and it is subject to trade-offs”. The more you reduce coupling in one place, the more it appears somewhere else. You cannot completely eliminate coupling. Decoupling does create options, but it also has diminishing returns, it’s not worth pushing it too far. Conclusion Tidy first? is a short, but impactful group about small scale software design changes. It explains what steps to take to clean up your code. Steps that don’t take more than a few hours at most. It also advocates for presenting these changes separately from behavioural changes so that it’s easier to reason about them and it’s also easier to back out just in case. In the last part of the book, the author explains the theory behind tidying and how tidying should decrease the cost of software while widening the list of available options. But in the end, we shouldn’t forget that programming is a human activity. Besides the financial aspects, we must consider that tidying brings peace, satisfaction and your to our programming. At least some. That’s important because if we are our best selves, we are better programmers. Connect deeper If you liked this article, please hit on the like button, subscribe to my newsletter and let’s connect on Twitter!" /><meta property="og:description" content="Let’s start by explaining what tidying means when it comes to software development. Maybe a decade ago, this book would have been called “Refactoring first?”, but the term “refactoring” got inflated when people started to refer to long pauses in feature development as such. Even worse, the most essential part of refactoring - it shouldn’t change the system’s behaviour - is not always respected. No new feautres, possible damage. Many stakeholders dislike refactoring. “Tidyings are the cute, fuzzy little refactorings that nobody could possibly hate on.” They usually don’t go beyond a few hours of work. When you first hold the book in your hand, you might be surprised as it’s barely a hundred pages long. It’s very dense, without any clutter, yet it’s extremely clear. It’s the first part of a series on software design. This first book covers small tidyings scaling from a few minutes to hours and focuses on the individual. The second book will target not only individual contributors but also a team of programmers and will cover refactorings that can go from a few days to a couple of weeks. Finally, the third book will be addressed to all stakeholders and will discuss architectural evolutions which often span over several years. How to tidy? Tidy first? is partitioned into three parts. The first part covers tidying techniques. If you are familiar with refactoring techniques and “clean code”, it won’t give you many surprises, but it’s a nice summary of what tools you have when you want to perform small-scale structural changes. Let me just name a few of them: use guard clauses, use helper variables and functions, and reorder code so that relevant parts are close to each other. The first part also has some valuable thoughts on comments. The author both advocates for and against comments, and this is perfectly fine! First of all, you shouldn’t refrain from writing explaining comments if you run into some complicated piece of code that you just managed to understand. Maybe you don’t have the time or the confidence to rewrite it. Yet, it would be good to avoid the next person (maybe you in a month) spending so much time once again understanding the code. Just write a comment that explains it. At the same time, “when you see a comment that says exactly what the code says, remove it. The purpose of code is to explain to other programmers what you want the computer to do.”. Comments accuracy is somewhat questionable even when they are written and later they will rot. If a piece of comment doesn’t bring value, remove it. How to present tidyings? While the first part is about how to tidy code, the second part is about its presentation. Should you post it along with behaviour changes or separately? Should you perform tidyings before or after the behaviour changes? Or maybe just later or even never? For the latter questions, the answer is that it depends on different factors. Cost is only one factor and it’s great if it can drive the decision, but you cannot always quantify how much you will gain by performing a tidying and how much it would cost if you did it later or never. Regardless of the cost, let’s not forget that programmers are human beings and we defined tidyings as short activities. Sometimes you’ll just “not have the energy to tackle a new feature, but [you] want to work”. Tidying might keep you happy and being happy will make you a better programmer. On the other hand, it’s easier to answer the first question. It’s better to present a tidying separately from behavioural changes. Code will be easier to reason about, to review and eventually to revert if you overlooked something. Economics and software design We, programmers, are human creatures who put a big emphasis on logic. It’s important to understand the theory behind certain - best - practices so that we accept it and can reason about it. The third and final part of Tidy first? attempts to uncover the theory behind software design and more specifically behind tidying. The author shares that until his mid-30s he didn’t understand the physics of moving money at all. Later, thanks to a “series of finance-related projects”, he slowly started to get it. The lessons soaked in so much that even the way he sees development changed. Two surprising properties defined his view: A dollar today is worth more than a dollar tomorrow, so earn sooner and spend later. In a chaotic situation, options are better than things, so create options in the face of uncertainty. In real life, that’s not so easy. To make future options, you have to spend money now and the value of these future options is not always possible to calculate. Still, the less a behaviour change will cost, the more options you have. The more tidying you perform, the less behaviour changes will cost. But a dollar today is still worth more than a dollar tomorrow. It’s not easy to find the right balance. One kind of change that is definitely not narrowing your list of options is reversible structural changes. Just as a bad haircut is more reversible than a bad tattoo, a structural change is more reversible than a behavioural change that might damage your reputation if it goes bad. As we know reputational damage can be permanent. In general, software design changes are reversible but behavioural changes are less so. Let’s get back to the cost of software. It’s not about the money you spend on building it. It’s more about how much it costs to change your software. The Pareto distribution applies here as well, the overall cost will be dominated by a few big changes. Those few outliers are the results of coupling. In other words, according to Constantine’s Equivalence, the cost of software can be derived from the level of coupling. Therefore, if you want to reduce how much a piece of software costs, you must reduce coupling. At the same time, “decoupling isn’t free and it is subject to trade-offs”. The more you reduce coupling in one place, the more it appears somewhere else. You cannot completely eliminate coupling. Decoupling does create options, but it also has diminishing returns, it’s not worth pushing it too far. Conclusion Tidy first? is a short, but impactful group about small scale software design changes. It explains what steps to take to clean up your code. Steps that don’t take more than a few hours at most. It also advocates for presenting these changes separately from behavioural changes so that it’s easier to reason about them and it’s also easier to back out just in case. In the last part of the book, the author explains the theory behind tidying and how tidying should decrease the cost of software while widening the list of available options. But in the end, we shouldn’t forget that programming is a human activity. Besides the financial aspects, we must consider that tidying brings peace, satisfaction and your to our programming. At least some. That’s important because if we are our best selves, we are better programmers. Connect deeper If you liked this article, please hit on the like button, subscribe to my newsletter and let’s connect on Twitter!" /><link rel="canonical" href="https://www.sandordargo.com/blog/2024/03/16/tidy-first-by-kent-beck" /><meta property="og:url" content="https://www.sandordargo.com/blog/2024/03/16/tidy-first-by-kent-beck" /><meta property="og:site_name" content="Sandor Dargo’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-03-16T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Tidy First? by Kent Beck" /><meta name="twitter:site" content="@SandorDargo" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-03-16T00:00:00+01:00","datePublished":"2024-03-16T00:00:00+01:00","description":"Let’s start by explaining what tidying means when it comes to software development. Maybe a decade ago, this book would have been called “Refactoring first?”, but the term “refactoring” got inflated when people started to refer to long pauses in feature development as such. Even worse, the most essential part of refactoring - it shouldn’t change the system’s behaviour - is not always respected. No new feautres, possible damage. Many stakeholders dislike refactoring. “Tidyings are the cute, fuzzy little refactorings that nobody could possibly hate on.” They usually don’t go beyond a few hours of work. When you first hold the book in your hand, you might be surprised as it’s barely a hundred pages long. It’s very dense, without any clutter, yet it’s extremely clear. It’s the first part of a series on software design. This first book covers small tidyings scaling from a few minutes to hours and focuses on the individual. The second book will target not only individual contributors but also a team of programmers and will cover refactorings that can go from a few days to a couple of weeks. Finally, the third book will be addressed to all stakeholders and will discuss architectural evolutions which often span over several years. How to tidy? Tidy first? is partitioned into three parts. The first part covers tidying techniques. If you are familiar with refactoring techniques and “clean code”, it won’t give you many surprises, but it’s a nice summary of what tools you have when you want to perform small-scale structural changes. Let me just name a few of them: use guard clauses, use helper variables and functions, and reorder code so that relevant parts are close to each other. The first part also has some valuable thoughts on comments. The author both advocates for and against comments, and this is perfectly fine! First of all, you shouldn’t refrain from writing explaining comments if you run into some complicated piece of code that you just managed to understand. Maybe you don’t have the time or the confidence to rewrite it. Yet, it would be good to avoid the next person (maybe you in a month) spending so much time once again understanding the code. Just write a comment that explains it. At the same time, “when you see a comment that says exactly what the code says, remove it. The purpose of code is to explain to other programmers what you want the computer to do.”. Comments accuracy is somewhat questionable even when they are written and later they will rot. If a piece of comment doesn’t bring value, remove it. How to present tidyings? While the first part is about how to tidy code, the second part is about its presentation. Should you post it along with behaviour changes or separately? Should you perform tidyings before or after the behaviour changes? Or maybe just later or even never? For the latter questions, the answer is that it depends on different factors. Cost is only one factor and it’s great if it can drive the decision, but you cannot always quantify how much you will gain by performing a tidying and how much it would cost if you did it later or never. Regardless of the cost, let’s not forget that programmers are human beings and we defined tidyings as short activities. Sometimes you’ll just “not have the energy to tackle a new feature, but [you] want to work”. Tidying might keep you happy and being happy will make you a better programmer. On the other hand, it’s easier to answer the first question. It’s better to present a tidying separately from behavioural changes. Code will be easier to reason about, to review and eventually to revert if you overlooked something. Economics and software design We, programmers, are human creatures who put a big emphasis on logic. It’s important to understand the theory behind certain - best - practices so that we accept it and can reason about it. The third and final part of Tidy first? attempts to uncover the theory behind software design and more specifically behind tidying. The author shares that until his mid-30s he didn’t understand the physics of moving money at all. Later, thanks to a “series of finance-related projects”, he slowly started to get it. The lessons soaked in so much that even the way he sees development changed. Two surprising properties defined his view: A dollar today is worth more than a dollar tomorrow, so earn sooner and spend later. In a chaotic situation, options are better than things, so create options in the face of uncertainty. In real life, that’s not so easy. To make future options, you have to spend money now and the value of these future options is not always possible to calculate. Still, the less a behaviour change will cost, the more options you have. The more tidying you perform, the less behaviour changes will cost. But a dollar today is still worth more than a dollar tomorrow. It’s not easy to find the right balance. One kind of change that is definitely not narrowing your list of options is reversible structural changes. Just as a bad haircut is more reversible than a bad tattoo, a structural change is more reversible than a behavioural change that might damage your reputation if it goes bad. As we know reputational damage can be permanent. In general, software design changes are reversible but behavioural changes are less so. Let’s get back to the cost of software. It’s not about the money you spend on building it. It’s more about how much it costs to change your software. The Pareto distribution applies here as well, the overall cost will be dominated by a few big changes. Those few outliers are the results of coupling. In other words, according to Constantine’s Equivalence, the cost of software can be derived from the level of coupling. Therefore, if you want to reduce how much a piece of software costs, you must reduce coupling. At the same time, “decoupling isn’t free and it is subject to trade-offs”. The more you reduce coupling in one place, the more it appears somewhere else. You cannot completely eliminate coupling. Decoupling does create options, but it also has diminishing returns, it’s not worth pushing it too far. Conclusion Tidy first? is a short, but impactful group about small scale software design changes. It explains what steps to take to clean up your code. Steps that don’t take more than a few hours at most. It also advocates for presenting these changes separately from behavioural changes so that it’s easier to reason about them and it’s also easier to back out just in case. In the last part of the book, the author explains the theory behind tidying and how tidying should decrease the cost of software while widening the list of available options. But in the end, we shouldn’t forget that programming is a human activity. Besides the financial aspects, we must consider that tidying brings peace, satisfaction and your to our programming. At least some. That’s important because if we are our best selves, we are better programmers. Connect deeper If you liked this article, please hit on the like button, subscribe to my newsletter and let’s connect on Twitter!","headline":"Tidy First? by Kent Beck","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sandordargo.com/blog/2024/03/16/tidy-first-by-kent-beck"},"url":"https://www.sandordargo.com/blog/2024/03/16/tidy-first-by-kent-beck"}</script><title>Tidy First? by Kent Beck | Sandor Dargo's Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-89625019-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-89625019-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/SANDOR_DARGO_ROUND.JPG" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Sandor Dargo's Blog</a></div><div class="site-subtitle font-italic">On C++, software development and books</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/books/" class="nav-link"> <i class="fa-fw fas fa-book ml-xl-3 mr-xl-3 unloaded"></i> <span>BOOKS</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-microphone ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a><li class="nav-item"> <a href="/dailycpp/" class="nav-link"> <i class="fa-fw fas fa-link ml-xl-3 mr-xl-3 unloaded"></i> <span>DAILY C++</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>HI...</span> </a></ul><ul class="w-100"><li class="nav-item"> <a href="https://www.patreon.com/sandordargo" class="nav-link"> <img src="https://c5.patreon.com/external/logo/become_a_patron_button.png"></a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/sandordargo" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/SandorDargo" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sandor.dargo','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/blog"> Blog </a> </span> <span> <a href="/2024"> 2024 </a> </span> <span> <a href="/03"> 03 </a> </span> <span> <a href="/16"> 16 </a> </span> <span>Tidy First? by Kent Beck</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Tidy First? by Kent Beck</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Sandor Dargo </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Mar 16, 2024, 12:00 AM +0100" prep="on" > Mar 16, 2024 <i class="unloaded">2024-03-16T00:00:00+01:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1215 words">6 min</span></div></div><div class="post-content"><p>Let’s start by explaining what tidying means when it comes to software development. Maybe a decade ago, this book would have been called “Refactoring first?”, but the term “refactoring” got inflated when people started to refer to long pauses in feature development as such. Even worse, the most essential part of refactoring - it shouldn’t change the system’s behaviour - is not always respected. No new feautres, possible damage. Many stakeholders dislike refactoring.</p><p><em>“Tidyings are the cute, fuzzy little refactorings that nobody could possibly hate on.”</em> They usually don’t go beyond a few hours of work.</p><p>When you first hold the book in your hand, you might be surprised as it’s barely a hundred pages long. It’s very dense, without any clutter, yet it’s extremely clear. It’s the first part of a series on software design. This first book covers small tidyings scaling from a few minutes to hours and focuses on the individual.</p><p>The second book will target not only individual contributors but also a team of programmers and will cover refactorings that can go from a few days to a couple of weeks. Finally, the third book will be addressed to all stakeholders and will discuss architectural evolutions which often span over several years.</p><h2 id="how-to-tidy">How to tidy?</h2><p><a href="https://www.amazon.com/Tidy-First-Personal-Exercise-Empirical/dp/1098151240?&amp;_encoding=UTF8&amp;tag=sandordargo-20&amp;linkCode=ur2&amp;linkId=a8e969e45c753f932fbb0e7a09e53832&amp;camp=1789&amp;creative=9325">Tidy first?</a> is partitioned into three parts. The first part covers tidying techniques. If you are familiar with refactoring techniques and “clean code”, it won’t give you many surprises, but it’s a nice summary of what tools you have when you want to perform small-scale structural changes. Let me just name a few of them: use guard clauses, use helper variables and functions, and reorder code so that relevant parts are close to each other.</p><p>The first part also has some valuable thoughts on comments. The author both advocates for and against comments, and this is perfectly fine! First of all, you shouldn’t refrain from writing explaining comments if you run into some complicated piece of code that you just managed to understand. Maybe you don’t have the time or the confidence to rewrite it. Yet, it would be good to avoid the next person (maybe you in a month) spending so much time once again understanding the code. Just write a comment that explains it.</p><p>At the same time, <em>“when you see a comment that says exactly what the code says, remove it. The purpose of code is to explain to other programmers what you want the computer to do.”</em>. Comments accuracy is somewhat questionable even when they are written and later they will rot. If a piece of comment doesn’t bring value, remove it.</p><h2 id="how-to-present-tidyings">How to present tidyings?</h2><p>While the first part is about how to tidy code, the second part is about its presentation. Should you post it along with behaviour changes or separately? Should you perform tidyings before or after the behaviour changes? Or maybe just later or even never? For the latter questions, the answer is that it depends on different factors. Cost is only one factor and it’s great if it can drive the decision, but you cannot always quantify how much you will gain by performing a tidying and how much it would cost if you did it later or never.</p><p>Regardless of the cost, let’s not forget that programmers are human beings and we defined tidyings as short activities. Sometimes you’ll just “not have the energy to tackle a new feature, but [you] want to work”. Tidying might keep you happy and being happy will make you a better programmer.</p><p>On the other hand, it’s easier to answer the first question. It’s better to present a tidying separately from behavioural changes. Code will be easier to reason about, to review and eventually to revert if you overlooked something.</p><h2 id="economics-and-software-design">Economics and software design</h2><p>We, programmers, are human creatures who put a big emphasis on logic. It’s important to understand the theory behind certain - best - practices so that we accept it and can reason about it. The third and final part of <a href="https://www.amazon.com/Tidy-First-Personal-Exercise-Empirical/dp/1098151240?&amp;_encoding=UTF8&amp;tag=sandordargo-20&amp;linkCode=ur2&amp;linkId=a8e969e45c753f932fbb0e7a09e53832&amp;camp=1789&amp;creative=9325">Tidy first?</a> attempts to uncover the theory behind software design and more specifically behind tidying.</p><p>The author shares that until his mid-30s he didn’t understand the physics of moving money at all. Later, thanks to a “series of finance-related projects”, he slowly started to get it. The lessons soaked in so much that even the way he sees development changed.</p><p>Two surprising properties defined his view:</p><blockquote><ul><li>A dollar today is worth more than a dollar tomorrow, so earn sooner and spend later.<li>In a chaotic situation, options are better than things, so create options in the face of uncertainty.</ul></blockquote><p>In real life, that’s not so easy. To make future options, you have to spend money now and the value of these future options is not always possible to calculate. Still, the less a behaviour change will cost, the more options you have. The more tidying you perform, the less behaviour changes will cost. But a dollar today is still worth more than a dollar tomorrow. It’s not easy to find the right balance.</p><p>One kind of change that is definitely not narrowing your list of options is reversible structural changes. Just as a bad haircut is more reversible than a bad tattoo, a structural change is more reversible than a behavioural change that might damage your reputation if it goes bad. As we know reputational damage can be permanent. In general, software design changes are reversible but behavioural changes are less so.</p><p>Let’s get back to the cost of software. It’s not about the money you spend on building it. It’s more about how much it costs to change your software. The Pareto distribution applies here as well, the overall cost will be dominated by a few big changes. Those few outliers are the results of coupling. In other words, according to <em>Constantine’s Equivalence</em>, the cost of software can be derived from the level of coupling. Therefore, if you want to reduce how much a piece of software costs, you must reduce coupling.</p><p>At the same time, <em>“decoupling isn’t free and it is subject to trade-offs”</em>. The more you reduce coupling in one place, the more it appears somewhere else. You cannot completely eliminate coupling. Decoupling does create options, but it also has diminishing returns, it’s not worth pushing it too far.</p><h2 id="conclusion">Conclusion</h2><p><a href="https://www.amazon.com/Tidy-First-Personal-Exercise-Empirical/dp/1098151240?&amp;_encoding=UTF8&amp;tag=sandordargo-20&amp;linkCode=ur2&amp;linkId=a8e969e45c753f932fbb0e7a09e53832&amp;camp=1789&amp;creative=9325">Tidy first?</a> is a short, but impactful group about small scale software design changes. It explains what steps to take to clean up your code. Steps that don’t take more than a few hours at most. It also advocates for presenting these changes separately from behavioural changes so that it’s easier to reason about them and it’s also easier to back out just in case.</p><p>In the last part of the book, the author explains the theory behind tidying and how tidying should decrease the cost of software while widening the list of available options.</p><p>But in the end, we shouldn’t forget that programming is a human activity. Besides the financial aspects, we must consider that tidying brings peace, satisfaction and your to our programming. At least some. That’s important because if we are our best selves, we are better programmers.</p><h2 id="connect-deeper">Connect deeper</h2><p>If you liked this article, please</p><ul><li>hit on the like button,<li><a href="http://eepurl.com/gvcv1j">subscribe to my newsletter</a><li>and let’s connect on <a href="https://twitter.com/SandorDargo">Twitter</a>!</ul><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/books/'>books</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/watercooler/" class="post-tag no-text-decoration" >watercooler</a> <a href="/tags/refactoring/" class="post-tag no-text-decoration" >refactoring</a> <a href="/tags/softwaredesign/" class="post-tag no-text-decoration" >softwaredesign</a> <a href="/tags/architecture/" class="post-tag no-text-decoration" >architecture</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a><div class="share-wrapper"> <a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Tidy First? by Kent Beck - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2024/03/16/tidy-first-by-kent-beck" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Tidy First? by Kent Beck - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2024/03/16/tidy-first-by-kent-beck" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Tidy First? by Kent Beck - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2024/03/16/tidy-first-by-kent-beck" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://news.ycombinator.com/submitlink?t=Tidy First? by Kent Beck - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2024/03/16/tidy-first-by-kent-beck" data-toggle="tooltip" data-placement="top" title="HackerNews" target="_blank" rel="noopener" aria-label="HackerNews"> <i class="fa-fw fab fa-hacker-news"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/blog/2026/01/21/clocks-part-8-cpp20-timezones">Time in C++: C++20 Brought Us Time Zones</a><li><a href="/blog/2019/04/10/lesson-of-a-booking-dont-trust-the-system">Lesson of a booking: Don't trust the system!</a><li><a href="/blog/2020/07/22/always-catch-exceptions-by-reference">Why should we always catch exceptions by reference?</a><li><a href="/blog/2020/11/28/emergent-design">Emergent Design: The Evolutionary Nature of Professional Software Development by Scott Bain</a><li><a href="/blog/2021/10/06/airy-code-reviews">Bring some fresh AIR and write effective code review comments</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self-improvement</a> <a class="post-tag" href="/tags/management/">management</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/blog/2023/01/25/deep-vs-shallow-modules"><div class="card-body"> <span class="timeago small" > Jan 25, 2023 <i class="unloaded">2023-01-25T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Deep vs shallow modules</h3><div class="text-muted small"><p> I keep telling that I don’t post negative book reviews. It’s because no matter how much I dislike a book, I can be pretty sure that the author made a huge effort writing it. I have absolutely no re...</p></div></div></a></div><div class="card"> <a href="/blog/2020/01/22/crime-scene-and-x-ray"><div class="card-body"> <span class="timeago small" > Jan 22, 2020 <i class="unloaded">2020-01-22T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Your Code as a Crime Scene and Software Design X-Rays by Adam Tornhill</h3><div class="text-muted small"><p> Usually, I write about one single book in a given article, but this is a peculiar occasion. Last months I read both books written by Adam Tornhill: Your Code as a Crime Scene (YCCS) and Software De...</p></div></div></a></div><div class="card"> <a href="/blog/2021/01/30/refactoring-for-software-design-smells"><div class="card-body"> <span class="timeago small" > Jan 30, 2021 <i class="unloaded">2021-01-30T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Refactoring for Software Design Smells</h3><div class="text-muted small"><p> I was looking for some books for these months taking into consideration that I should improve my architecture and design skills. So I recently read Emergent Design and now Refactoring for Software ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/blog/2024/03/13/3-key-philosophies-behind-cpp" class="btn btn-outline-primary" prompt="Older"><p>Three key philosophies behind C++</p></a> <a href="/blog/2024/03/20/cpp23-encoding-related-changes" class="btn btn-outline-primary" prompt="Newer"><p>C++23: Encoding related changes</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//sandordargo-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Tidy First? by Kent Beck'; this.page.url = 'https://www.sandordargo.com/blog/2024/03/16/tidy-first-by-kent-beck'; this.page.identifier = '/blog/2024/03/16/tidy-first-by-kent-beck'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><div id="amzn-assoc-ad-be5a767b-3346-40aa-bc00-2eff0ce33d2b"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=be5a767b-3346-40aa-bc00-2eff0ce33d2b"></script> <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script> <script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">require(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us16.list-manage.com","uuid":"b073dbd5c29322302f59a8cd8","lid":"d26240427e"}) })</script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://twitter.com/SandorDargo">Sandor Dargo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self improvement</a> <a class="post-tag" href="/tags/management/">management</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.sandordargo.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
