<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="C++23: multidimensional operator[]" /><meta property="og:locale" content="en_US" /><meta name="description" content="Two weeks ago we talked about how C++23 allows for the call and subscription operators to be static. This time, we stay in the land of operators and we’ll continue discussing the subscript operator. We are going to see how the subscription operator becomes multidimensional thanks to the authors of P2128R6. Motivations If you ask C++ developers about how they access the elements of multidimensional arrays, it’s likely that you’ll get several different answers depending on their experience. If you ask someone who is not-so-experienced or works in a non-mathematical domain, there is a fair chance that the answer will be that you should use multiple subscription operators in a row: myMatrix[x][y]. There are a couple of problems with this approach: it implies that myMatrix[x] is a valid expression due to failure to inline it has negative performance implications myMatrix[x] might even perform a deep copy! If you ask someone who is familiar with scientific libraries, the answer to how to access a multi-dimensional array will likely be to use the call operator myMatrix(x, y). While it can solve the problems mentioned for chained subscript operators, it has other issues. it’s far from being intuitive to read myMatrix(x, y) = 42. Are we assigning a value to a function call or what? it’s not consistent with the one-dimensional access of myMatrix[x] it might be difficult to distinguish invocables and multi-dimensional arrays. Even for the compiler even library authors often consider this as a workaround There is yet another method. You might pass a tuple to the subscript operator: myMatrix[{x, y}]. Well, this is not very intuitive either and is still inconsistent with one-dimensional access Using the subscript operator with several parameters (myMatrix[x, y]) would solve these issues. What is changing? C++20 deprecated uses of the comma operator in subscripting expressions. Let’s see what changed through an example: 1 2 3 4 5 6 7 8 9 10 11 12 13 std::vector&lt;int&gt; numbers = {1, 2, 3, 4, 5}; // The output of this in C++17: // warning: left operand of comma operator has no effect [-Wunused-value] // 2 std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\n&#39;; // The output of this in C++20: // warning: top-level comma expression in array subscript is deprecated [-Wcomma-subscript] // warning: left operand of comma operator has no effect [-Wunused-value] // 2 std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\n&#39;; In the above example, the comma operator is used and the first parameter is simply ignored. You get a warning for this by the compiler and C++20 added a second commit showing deprecation. As this deprecation is quite new, the changes presented by P2128R6 are only valid for new standard and user types. Starting from C++23, operator[] should be able to accept zero or more arguments, including variadic arguments. C-arrays, vectors, arrays, and other already existing containers do not benefit from this change. At least, not yet: 1 2 3 4 5 6 7 8 9 10 11 12 std::vector&lt;std::vector&lt;int&gt;&gt; numbers = { {1, 2, 3, 4, 5}, {11, 12, 13, 14, 15} }; std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\n&#39;; /* &lt;source&gt;:10:25: warning: top-level comma expression in array subscript changed meaning in C++23 [-Wcomma-subscript] 10 | std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\n&#39;; &lt;source&gt;:10:15: error: no match for &#39;operator&lt;&lt;&#39; (operand types are &#39;std::ostream&#39; {aka &#39;std::basic_ostream&lt;char&gt;&#39;} and &#39;__gnu_cxx::__alloc_traits&lt;std::allocator&lt;std::vector&lt;int&gt; &gt;, std::vector&lt;int&gt; &gt;::value_type&#39; {aka &#39;std::vector&lt;int&gt;&#39;}) 10 | std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\n&#39;; */ This example fails, because numbers[0, 1] for a vector of vectors still tries to access numbers[1] instead of numbers[0][1]. On the other hand, new types such as mdspan in C++23 or mdarray most probably in C++26 will get this feature automatically. For existing types, the new meaning might get adopted starting from C++26. For the time being, it’s not so easy to showcase this example. One solution is to use the mdspan library from kokkos (Godbolt): 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #include &lt;vector&gt; #include &lt;https://raw.githubusercontent.com/kokkos/mdspan/single-header/mdspan.hpp&gt; #include &lt;iostream&gt; int main() { std::vector v = {1,2,3,4,5,6,7,8,9,10,11,12}; // View data as contiguous memory representing 2 rows of 6 ints each auto multispan = std::experimental::mdspan(v.data(), 2, 6); std::cout &lt;&lt; multispan[1, 1] &lt;&lt; &#39;\n&#39;; } /* 8 */ Conclusion Today we discussed the different options we currently have in order to access items of multi-dimensional arrays. As we saw, using chained subscript operators, or the function call operator have their own shortcomings as well as passing a tuple to the subscript operator. Starting from C++23, at least for new types, the subscript operator will take several arguments comma-separated thanks to P2128R6. Connect deeper If you liked this article, please hit on the like button, subscribe to my newsletter and let’s connect on Twitter!" /><meta property="og:description" content="Two weeks ago we talked about how C++23 allows for the call and subscription operators to be static. This time, we stay in the land of operators and we’ll continue discussing the subscript operator. We are going to see how the subscription operator becomes multidimensional thanks to the authors of P2128R6. Motivations If you ask C++ developers about how they access the elements of multidimensional arrays, it’s likely that you’ll get several different answers depending on their experience. If you ask someone who is not-so-experienced or works in a non-mathematical domain, there is a fair chance that the answer will be that you should use multiple subscription operators in a row: myMatrix[x][y]. There are a couple of problems with this approach: it implies that myMatrix[x] is a valid expression due to failure to inline it has negative performance implications myMatrix[x] might even perform a deep copy! If you ask someone who is familiar with scientific libraries, the answer to how to access a multi-dimensional array will likely be to use the call operator myMatrix(x, y). While it can solve the problems mentioned for chained subscript operators, it has other issues. it’s far from being intuitive to read myMatrix(x, y) = 42. Are we assigning a value to a function call or what? it’s not consistent with the one-dimensional access of myMatrix[x] it might be difficult to distinguish invocables and multi-dimensional arrays. Even for the compiler even library authors often consider this as a workaround There is yet another method. You might pass a tuple to the subscript operator: myMatrix[{x, y}]. Well, this is not very intuitive either and is still inconsistent with one-dimensional access Using the subscript operator with several parameters (myMatrix[x, y]) would solve these issues. What is changing? C++20 deprecated uses of the comma operator in subscripting expressions. Let’s see what changed through an example: 1 2 3 4 5 6 7 8 9 10 11 12 13 std::vector&lt;int&gt; numbers = {1, 2, 3, 4, 5}; // The output of this in C++17: // warning: left operand of comma operator has no effect [-Wunused-value] // 2 std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\n&#39;; // The output of this in C++20: // warning: top-level comma expression in array subscript is deprecated [-Wcomma-subscript] // warning: left operand of comma operator has no effect [-Wunused-value] // 2 std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\n&#39;; In the above example, the comma operator is used and the first parameter is simply ignored. You get a warning for this by the compiler and C++20 added a second commit showing deprecation. As this deprecation is quite new, the changes presented by P2128R6 are only valid for new standard and user types. Starting from C++23, operator[] should be able to accept zero or more arguments, including variadic arguments. C-arrays, vectors, arrays, and other already existing containers do not benefit from this change. At least, not yet: 1 2 3 4 5 6 7 8 9 10 11 12 std::vector&lt;std::vector&lt;int&gt;&gt; numbers = { {1, 2, 3, 4, 5}, {11, 12, 13, 14, 15} }; std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\n&#39;; /* &lt;source&gt;:10:25: warning: top-level comma expression in array subscript changed meaning in C++23 [-Wcomma-subscript] 10 | std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\n&#39;; &lt;source&gt;:10:15: error: no match for &#39;operator&lt;&lt;&#39; (operand types are &#39;std::ostream&#39; {aka &#39;std::basic_ostream&lt;char&gt;&#39;} and &#39;__gnu_cxx::__alloc_traits&lt;std::allocator&lt;std::vector&lt;int&gt; &gt;, std::vector&lt;int&gt; &gt;::value_type&#39; {aka &#39;std::vector&lt;int&gt;&#39;}) 10 | std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\n&#39;; */ This example fails, because numbers[0, 1] for a vector of vectors still tries to access numbers[1] instead of numbers[0][1]. On the other hand, new types such as mdspan in C++23 or mdarray most probably in C++26 will get this feature automatically. For existing types, the new meaning might get adopted starting from C++26. For the time being, it’s not so easy to showcase this example. One solution is to use the mdspan library from kokkos (Godbolt): 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #include &lt;vector&gt; #include &lt;https://raw.githubusercontent.com/kokkos/mdspan/single-header/mdspan.hpp&gt; #include &lt;iostream&gt; int main() { std::vector v = {1,2,3,4,5,6,7,8,9,10,11,12}; // View data as contiguous memory representing 2 rows of 6 ints each auto multispan = std::experimental::mdspan(v.data(), 2, 6); std::cout &lt;&lt; multispan[1, 1] &lt;&lt; &#39;\n&#39;; } /* 8 */ Conclusion Today we discussed the different options we currently have in order to access items of multi-dimensional arrays. As we saw, using chained subscript operators, or the function call operator have their own shortcomings as well as passing a tuple to the subscript operator. Starting from C++23, at least for new types, the subscript operator will take several arguments comma-separated thanks to P2128R6. Connect deeper If you liked this article, please hit on the like button, subscribe to my newsletter and let’s connect on Twitter!" /><link rel="canonical" href="https://www.sandordargo.com/blog/2023/08/09/cpp23-multidimensional-subscription-operator" /><meta property="og:url" content="https://www.sandordargo.com/blog/2023/08/09/cpp23-multidimensional-subscription-operator" /><meta property="og:site_name" content="Sandor Dargo’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-08-09T00:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="C++23: multidimensional operator[]" /><meta name="twitter:site" content="@SandorDargo" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-08-17T22:38:34+02:00","datePublished":"2023-08-09T00:00:00+02:00","description":"Two weeks ago we talked about how C++23 allows for the call and subscription operators to be static. This time, we stay in the land of operators and we’ll continue discussing the subscript operator. We are going to see how the subscription operator becomes multidimensional thanks to the authors of P2128R6. Motivations If you ask C++ developers about how they access the elements of multidimensional arrays, it’s likely that you’ll get several different answers depending on their experience. If you ask someone who is not-so-experienced or works in a non-mathematical domain, there is a fair chance that the answer will be that you should use multiple subscription operators in a row: myMatrix[x][y]. There are a couple of problems with this approach: it implies that myMatrix[x] is a valid expression due to failure to inline it has negative performance implications myMatrix[x] might even perform a deep copy! If you ask someone who is familiar with scientific libraries, the answer to how to access a multi-dimensional array will likely be to use the call operator myMatrix(x, y). While it can solve the problems mentioned for chained subscript operators, it has other issues. it’s far from being intuitive to read myMatrix(x, y) = 42. Are we assigning a value to a function call or what? it’s not consistent with the one-dimensional access of myMatrix[x] it might be difficult to distinguish invocables and multi-dimensional arrays. Even for the compiler even library authors often consider this as a workaround There is yet another method. You might pass a tuple to the subscript operator: myMatrix[{x, y}]. Well, this is not very intuitive either and is still inconsistent with one-dimensional access Using the subscript operator with several parameters (myMatrix[x, y]) would solve these issues. What is changing? C++20 deprecated uses of the comma operator in subscripting expressions. Let’s see what changed through an example: 1 2 3 4 5 6 7 8 9 10 11 12 13 std::vector&lt;int&gt; numbers = {1, 2, 3, 4, 5}; // The output of this in C++17: // warning: left operand of comma operator has no effect [-Wunused-value] // 2 std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\\n&#39;; // The output of this in C++20: // warning: top-level comma expression in array subscript is deprecated [-Wcomma-subscript] // warning: left operand of comma operator has no effect [-Wunused-value] // 2 std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\\n&#39;; In the above example, the comma operator is used and the first parameter is simply ignored. You get a warning for this by the compiler and C++20 added a second commit showing deprecation. As this deprecation is quite new, the changes presented by P2128R6 are only valid for new standard and user types. Starting from C++23, operator[] should be able to accept zero or more arguments, including variadic arguments. C-arrays, vectors, arrays, and other already existing containers do not benefit from this change. At least, not yet: 1 2 3 4 5 6 7 8 9 10 11 12 std::vector&lt;std::vector&lt;int&gt;&gt; numbers = { {1, 2, 3, 4, 5}, {11, 12, 13, 14, 15} }; std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\\n&#39;; /* &lt;source&gt;:10:25: warning: top-level comma expression in array subscript changed meaning in C++23 [-Wcomma-subscript] 10 | std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\\n&#39;; &lt;source&gt;:10:15: error: no match for &#39;operator&lt;&lt;&#39; (operand types are &#39;std::ostream&#39; {aka &#39;std::basic_ostream&lt;char&gt;&#39;} and &#39;__gnu_cxx::__alloc_traits&lt;std::allocator&lt;std::vector&lt;int&gt; &gt;, std::vector&lt;int&gt; &gt;::value_type&#39; {aka &#39;std::vector&lt;int&gt;&#39;}) 10 | std::cout &lt;&lt; numbers[0, 1] &lt;&lt; &#39;\\n&#39;; */ This example fails, because numbers[0, 1] for a vector of vectors still tries to access numbers[1] instead of numbers[0][1]. On the other hand, new types such as mdspan in C++23 or mdarray most probably in C++26 will get this feature automatically. For existing types, the new meaning might get adopted starting from C++26. For the time being, it’s not so easy to showcase this example. One solution is to use the mdspan library from kokkos (Godbolt): 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #include &lt;vector&gt; #include &lt;https://raw.githubusercontent.com/kokkos/mdspan/single-header/mdspan.hpp&gt; #include &lt;iostream&gt; int main() { std::vector v = {1,2,3,4,5,6,7,8,9,10,11,12}; // View data as contiguous memory representing 2 rows of 6 ints each auto multispan = std::experimental::mdspan(v.data(), 2, 6); std::cout &lt;&lt; multispan[1, 1] &lt;&lt; &#39;\\n&#39;; } /* 8 */ Conclusion Today we discussed the different options we currently have in order to access items of multi-dimensional arrays. As we saw, using chained subscript operators, or the function call operator have their own shortcomings as well as passing a tuple to the subscript operator. Starting from C++23, at least for new types, the subscript operator will take several arguments comma-separated thanks to P2128R6. Connect deeper If you liked this article, please hit on the like button, subscribe to my newsletter and let’s connect on Twitter!","headline":"C++23: multidimensional operator[]","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sandordargo.com/blog/2023/08/09/cpp23-multidimensional-subscription-operator"},"url":"https://www.sandordargo.com/blog/2023/08/09/cpp23-multidimensional-subscription-operator"}</script><title>C++23: multidimensional operator[] | Sandor Dargo's Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-89625019-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-89625019-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/SANDOR_DARGO_ROUND.JPG" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Sandor Dargo's Blog</a></div><div class="site-subtitle font-italic">On C++, software development and books</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/books/" class="nav-link"> <i class="fa-fw fas fa-book ml-xl-3 mr-xl-3 unloaded"></i> <span>BOOKS</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-microphone ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a><li class="nav-item"> <a href="/dailycpp/" class="nav-link"> <i class="fa-fw fas fa-link ml-xl-3 mr-xl-3 unloaded"></i> <span>DAILY C++</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>HI...</span> </a></ul><ul class="w-100"><li class="nav-item"> <a href="https://www.patreon.com/sandordargo" class="nav-link"> <img src="https://c5.patreon.com/external/logo/become_a_patron_button.png"></a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/sandordargo" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/SandorDargo" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sandor.dargo','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/blog"> Blog </a> </span> <span> <a href="/2023"> 2023 </a> </span> <span> <a href="/08"> 08 </a> </span> <span> <a href="/09"> 09 </a> </span> <span>C++23: multidimensional operator[]</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>C++23: multidimensional operator[]</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Sandor Dargo </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Aug 9, 2023, 12:00 AM +0200" prep="on" > Aug 9, 2023 <i class="unloaded">2023-08-09T00:00:00+02:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Thu, Aug 17, 2023, 10:38 PM +0200" prefix="Updated " > Aug 17, 2023 <i class="unloaded">2023-08-17T22:38:34+02:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="780 words">4 min</span></div></div><div class="post-content"><p>Two weeks ago we talked about <a href="https://www.sandordargo.com/blog/2023/07/26/cpp23-static-call-and-subscript-operator">how C++23 allows for the call and subscription operators to be <code class="language-plaintext highlighter-rouge">static</code></a>. This time, we stay in the land of operators and we’ll continue discussing the subscript operator. We are going to see how the subscription operator becomes multidimensional thanks to the authors of <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2128r6.pdf">P2128R6</a>.</p><h2 id="motivations">Motivations</h2><p>If you ask C++ developers about how they access the elements of multidimensional arrays, it’s likely that you’ll get several different answers depending on their experience.</p><p>If you ask someone who is not-so-experienced or works in a non-mathematical domain, there is a fair chance that the answer will be that you should use multiple subscription operators in a row: <code class="language-plaintext highlighter-rouge">myMatrix[x][y]</code>.</p><p>There are a couple of problems with this approach:</p><ul><li>it implies that <code class="language-plaintext highlighter-rouge">myMatrix[x]</code> is a valid expression<li>due to failure to inline it has negative performance implications<li><code class="language-plaintext highlighter-rouge">myMatrix[x]</code> might even perform a deep copy!</ul><p>If you ask someone who is familiar with scientific libraries, the answer to how to access a multi-dimensional array will likely be to use the call operator <code class="language-plaintext highlighter-rouge">myMatrix(x, y)</code>.</p><p>While it can solve the problems mentioned for chained subscript operators, it has other issues.</p><ul><li>it’s far from being intuitive to read <code class="language-plaintext highlighter-rouge">myMatrix(x, y) = 42</code>. Are we assigning a value to a function call or what?<li>it’s not consistent with the one-dimensional access of <code class="language-plaintext highlighter-rouge">myMatrix[x]</code><li>it might be difficult to distinguish invocables and multi-dimensional arrays. Even for the compiler<li>even library authors often consider this as a workaround</ul><p>There is yet another method. You might pass a tuple to the subscript operator: <code class="language-plaintext highlighter-rouge">myMatrix[{x, y}]</code>. Well, this is not very intuitive either and is still inconsistent with one-dimensional access</p><p>Using the subscript operator with several parameters (<code class="language-plaintext highlighter-rouge">myMatrix[x, y]</code>) would solve these issues.</p><h2 id="what-is-changing">What is changing?</h2><p>C++20 <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2019/p1161r3.html">deprecated uses of the comma operator in subscripting expressions</a>. Let’s see what changed through an example:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">numbers</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">};</span>

<span class="c1">// The output of this in C++17:</span>
<span class="c1">// warning: left operand of comma operator has no effect [-Wunused-value]</span>
<span class="c1">// 2</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>


<span class="c1">// The output of this in C++20:  </span>
<span class="c1">// warning: top-level comma expression in array subscript is deprecated [-Wcomma-subscript]</span>
<span class="c1">// warning: left operand of comma operator has no effect [-Wunused-value]</span>
<span class="c1">// 2</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
</pre></table></code></div></div><p>In the above example, the comma operator is used and the first parameter is simply ignored. You get a warning for this by the compiler and C++20 added a second commit showing deprecation.</p><p>As this deprecation is quite new, the changes presented by <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2128r6.pdf">P2128R6</a> are only valid for <em>new</em> standard and user types. Starting from C++23, <code class="language-plaintext highlighter-rouge">operator[]</code> should be able to accept zero or more arguments, including variadic arguments.</p><p>C-arrays, <code class="language-plaintext highlighter-rouge">vector</code>s, <code class="language-plaintext highlighter-rouge">array</code>s, and other already existing containers do not benefit from this change. At least, not yet:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">numbers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">},</span>
  <span class="p">{</span><span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">}</span>
<span class="p">};</span>

<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
<span class="cm">/*
&lt;source&gt;:10:25: warning: top-level comma expression in array subscript changed meaning in C++23 [-Wcomma-subscript]
   10 |     std::cout &lt;&lt; numbers[0, 1] &lt;&lt; '\n';
&lt;source&gt;:10:15: error: no match for 'operator&lt;&lt;' (operand types are 'std::ostream' {aka 'std::basic_ostream&lt;char&gt;'} and '__gnu_cxx::__alloc_traits&lt;std::allocator&lt;std::vector&lt;int&gt; &gt;, std::vector&lt;int&gt; &gt;::value_type' {aka 'std::vector&lt;int&gt;'})
   10 |     std::cout &lt;&lt; numbers[0, 1] &lt;&lt; '\n';
*/</span>
</pre></table></code></div></div><p>This example fails, because <code class="language-plaintext highlighter-rouge">numbers[0, 1]</code> for a <code class="language-plaintext highlighter-rouge">vector</code> of <code class="language-plaintext highlighter-rouge">vector</code>s still tries to access <code class="language-plaintext highlighter-rouge">numbers[1]</code> instead of <code class="language-plaintext highlighter-rouge">numbers[0][1]</code>.</p><p>On the other hand, new types such as <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p0009r10.html"><code class="language-plaintext highlighter-rouge">mdspan</code></a> in C++23 or <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2019/p1684r0.pdf"><code class="language-plaintext highlighter-rouge">mdarray</code></a> most probably in C++26 will get this feature automatically.</p><p>For existing types, the new meaning might get adopted starting from C++26.</p><p>For the time being, it’s not so easy to showcase this example. One solution is to use the <code class="language-plaintext highlighter-rouge">mdspan</code> library from <em>kokkos</em> (<a href="https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(filename:'1',fontScale:14,fontUsePx:'0',j:1,lang:c%2B%2B,selection:(endColumn:27,endLineNumber:11,positionColumn:27,positionLineNumber:11,selectionStartColumn:27,selectionStartLineNumber:11,startColumn:27,startLineNumber:11),source:'%23include+%3Cvector%3E%0A%23include+%3Chttps://raw.githubusercontent.com/kokkos/mdspan/single-header/mdspan.hpp%3E%0A%23include+%3Ciostream%3E%0A%0Aint+main()%0A%7B%0A++std::vector+v+%3D+%7B1,2,3,4,5,6,7,8,9,10,11,12%7D%3B%0A%0A++//+View+data+as+contiguous+memory+representing+2+rows+of+6+ints+each%0A++auto+multispan+%3D+std::experimental::mdspan(v.data(),+2,+6)%3B%0A++std::cout+%3C%3C+multispan%5B1,+1%5D+%3C%3C+!'%5Cn!'%3B%0A%7D%0A'),l:'5',n:'0',o:'C%2B%2B+source+%231',t:'0')),k:50,l:'4',n:'0',o:'',s:0,t:'0'),(g:!((g:!((h:compiler,i:(compiler:clang_trunk,deviceViewOpen:'1',filters:(b:'0',binary:'1',binaryObject:'1',commentOnly:'0',debugCalls:'1',demangle:'0',directives:'0',execute:'0',intel:'0',libraryCode:'0',trim:'1'),flagsViewOpen:'1',fontScale:14,fontUsePx:'0',j:1,lang:c%2B%2B,libs:!((name:fmt,ver:trunk)),options:'-std%3Dc%2B%2B2b',overrides:!(),selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'+x86-64+clang+(trunk)+(Editor+%231)',t:'0')),k:50,l:'4',m:50,n:'0',o:'',s:0,t:'0'),(g:!((h:output,i:(editorid:1,fontScale:14,fontUsePx:'0',j:1,wrap:'1'),l:'5',n:'0',o:'Output+of+x86-64+clang+(trunk)+(Compiler+%231)',t:'0')),header:(),l:'4',m:50,n:'0',o:'',s:0,t:'0')),k:50,l:'3',n:'0',o:'',t:'0')),l:'2',n:'0',o:'',t:'0')),version:4">Godbolt</a>):</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;https://raw.githubusercontent.com/kokkos/mdspan/single-header/mdspan.hpp&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span> <span class="n">v</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">};</span>

  <span class="c1">// View data as contiguous memory representing 2 rows of 6 ints each</span>
  <span class="k">auto</span> <span class="n">multispan</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">experimental</span><span class="o">::</span><span class="n">mdspan</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">data</span><span class="p">(),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">multispan</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*
8
*/</span>
</pre></table></code></div></div><h2 id="conclusion">Conclusion</h2><p>Today we discussed the different options we currently have in order to access items of multi-dimensional arrays. As we saw, using chained subscript operators, or the function call operator have their own shortcomings as well as passing a tuple to the subscript operator.</p><p>Starting from C++23, at least for new types, the subscript operator will take several arguments comma-separated thanks to <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2128r6.pdf">P2128R6</a>.</p><h2 id="connect-deeper">Connect deeper</h2><p>If you liked this article, please</p><ul><li>hit on the like button,<li><a href="http://eepurl.com/gvcv1j">subscribe to my newsletter</a><li>and let’s connect on <a href="https://twitter.com/SandorDargo">Twitter</a>!</ul><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/dev/'>dev</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/cpp/" class="post-tag no-text-decoration" >cpp</a> <a href="/tags/cpp23/" class="post-tag no-text-decoration" >cpp23</a> <a href="/tags/static/" class="post-tag no-text-decoration" >static</a> <a href="/tags/calloperator/" class="post-tag no-text-decoration" >calloperator</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a><div class="share-wrapper"> <a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=C++23: multidimensional operator[] - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2023/08/09/cpp23-multidimensional-subscription-operator" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=C++23: multidimensional operator[] - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2023/08/09/cpp23-multidimensional-subscription-operator" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=C++23: multidimensional operator[] - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2023/08/09/cpp23-multidimensional-subscription-operator" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://news.ycombinator.com/submitlink?t=C++23: multidimensional operator[] - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2023/08/09/cpp23-multidimensional-subscription-operator" data-toggle="tooltip" data-placement="top" title="HackerNews" target="_blank" rel="noopener" aria-label="HackerNews"> <i class="fa-fw fab fa-hacker-news"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/blog/2026/01/21/clocks-part-8-cpp20-timezones">Time in C++: C++20 Brought Us Time Zones</a><li><a href="/blog/2019/04/10/lesson-of-a-booking-dont-trust-the-system">Lesson of a booking: Don't trust the system!</a><li><a href="/blog/2020/07/22/always-catch-exceptions-by-reference">Why should we always catch exceptions by reference?</a><li><a href="/blog/2020/11/28/emergent-design">Emergent Design: The Evolutionary Nature of Professional Software Development by Scott Bain</a><li><a href="/blog/2021/10/06/airy-code-reviews">Bring some fresh AIR and write effective code review comments</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self-improvement</a> <a class="post-tag" href="/tags/management/">management</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/blog/2023/07/26/cpp23-static-call-and-subscript-operator"><div class="card-body"> <span class="timeago small" > Jul 26, 2023 <i class="unloaded">2023-07-26T00:00:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>C++23: static operator() and static operator[]</h3><div class="text-muted small"><p> In this article, we are going to review two new features of C++23. Now the language allows the call operator (operator()) and the subscription operator (operator[]) to be static. Let’s jump into th...</p></div></div></a></div><div class="card"> <a href="/blog/2023/08/15/cpp23-mdspan-mdsarray"><div class="card-body"> <span class="timeago small" > Aug 15, 2023 <i class="unloaded">2023-08-15T00:00:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>C++23: mdspan</h3><div class="text-muted small"><p> Recently, we discussed that C++23 introduces the multidimensional subscript operator which will work - for the time being - only with new containers. In C++23 that basically means mdspan. In C++26,...</p></div></div></a></div><div class="card"> <a href="/blog/2022/11/23/cpp23-changes-to-lambdas"><div class="card-body"> <span class="timeago small" > Nov 23, 2022 <i class="unloaded">2022-11-23T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>C++23: How lambdas are going to change?</h3><div class="text-muted small"><p> C++23 is coming soon and it will change how lambdas work in 3 different ways. They will not only become simpler in certain circumstances but they will be also aligned more with other features of th...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/blog/2023/08/02/the-power-of-tenure-7-reasons-to-stay-at-your-job" class="btn btn-outline-primary" prompt="Older"><p>The Power of Tenure: 7 reasons to stay at your job</p></a> <a href="/blog/2023/08/15/cpp23-mdspan-mdsarray" class="btn btn-outline-primary" prompt="Newer"><p>C++23: mdspan</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//sandordargo-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'C++23: multidimensional operator[]'; this.page.url = 'https://www.sandordargo.com/blog/2023/08/09/cpp23-multidimensional-subscription-operator'; this.page.identifier = '/blog/2023/08/09/cpp23-multidimensional-subscription-operator'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><div id="amzn-assoc-ad-be5a767b-3346-40aa-bc00-2eff0ce33d2b"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=be5a767b-3346-40aa-bc00-2eff0ce33d2b"></script> <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script> <script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">require(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us16.list-manage.com","uuid":"b073dbd5c29322302f59a8cd8","lid":"d26240427e"}) })</script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://twitter.com/SandorDargo">Sandor Dargo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self improvement</a> <a class="post-tag" href="/tags/management/">management</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.sandordargo.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
