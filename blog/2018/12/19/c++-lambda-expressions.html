<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Lambda Expressions in C++" /><meta property="og:locale" content="en_US" /><meta name="description" content="Reading through Scott Meyer’s Efective Modern C++ helped me discover a lot of features of modern C++, including right value references, the trailing return type declaration and lambda expressions. Let’s talk about those lambdas in this post." /><meta property="og:description" content="Reading through Scott Meyer’s Efective Modern C++ helped me discover a lot of features of modern C++, including right value references, the trailing return type declaration and lambda expressions. Let’s talk about those lambdas in this post." /><link rel="canonical" href="https://www.sandordargo.com/blog/2018/12/19/c++-lambda-expressions" /><meta property="og:url" content="https://www.sandordargo.com/blog/2018/12/19/c++-lambda-expressions" /><meta property="og:site_name" content="Sandor Dargo’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-12-19T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Lambda Expressions in C++" /><meta name="twitter:site" content="@SandorDargo" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-12-26T06:39:58+01:00","datePublished":"2018-12-19T00:00:00+01:00","description":"Reading through Scott Meyer’s Efective Modern C++ helped me discover a lot of features of modern C++, including right value references, the trailing return type declaration and lambda expressions. Let’s talk about those lambdas in this post.","headline":"Lambda Expressions in C++","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sandordargo.com/blog/2018/12/19/c++-lambda-expressions"},"url":"https://www.sandordargo.com/blog/2018/12/19/c++-lambda-expressions"}</script><title>Lambda Expressions in C++ | Sandor Dargo's Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-89625019-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-89625019-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/SANDOR_DARGO_ROUND.JPG" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Sandor Dargo's Blog</a></div><div class="site-subtitle font-italic">On C++, software development and books</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/books/" class="nav-link"> <i class="fa-fw fas fa-book ml-xl-3 mr-xl-3 unloaded"></i> <span>BOOKS</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-microphone ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a><li class="nav-item"> <a href="/dailycpp/" class="nav-link"> <i class="fa-fw fas fa-link ml-xl-3 mr-xl-3 unloaded"></i> <span>DAILY C++</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>HI...</span> </a></ul><ul class="w-100"><li class="nav-item"> <a href="https://www.patreon.com/sandordargo" class="nav-link"> <img src="https://c5.patreon.com/external/logo/become_a_patron_button.png"></a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/sandordargo" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/SandorDargo" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sandor.dargo','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/blog"> Blog </a> </span> <span> <a href="/2018"> 2018 </a> </span> <span> <a href="/12"> 12 </a> </span> <span> <a href="/19"> 19 </a> </span> <span>Lambda Expressions in C++</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Lambda Expressions in C++</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Sandor Dargo </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Dec 19, 2018, 12:00 AM +0100" prep="on" > Dec 19, 2018 <i class="unloaded">2018-12-19T00:00:00+01:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Thu, Dec 26, 2024, 6:39 AM +0100" prefix="Updated " > Dec 26, 2024 <i class="unloaded">2024-12-26T06:39:58+01:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2548 words">14 min</span></div></div><div class="post-content"><p>Reading through <a href="https://www.aristeia.com/">Scott Meyer</a>’s <a href="https://amzn.to/2EiL37U">Efective Modern C++</a> helped me discover a lot of features of modern C++, including <a href="http://sandordargo.com/blog/2018/11/25/override-r-and-l0-values">right value references</a>, the <a href="http://sandordargo.com/blog/2018/11/07/trailing-return-type">trailing return type declaration</a> and lambda expressions. Let’s talk about those lambdas in this post.</p><p>You might think, come on, this is old stuff, every serious developer should know about lambda expressions. You might be right, yet, it’s not the case. Recently I made a brown bag session on lambdas and out of about 15 developers, two of us have already used lambdas in C++ and two others in Java. So the need is out there.</p><h2 id="what-are-lambda-expressions">What are lambda expressions?</h2><p>Lambda expressions are anonymous functions. They are small snippets of code that provide a better readability in most cases if they are not hidden into an enclosing class. By the way, in C++, those enclosing classes would be called functors or function objects. We are going to cover them in a minute.</p><p>So we can say, that lambda expressions are here for us to replace functors and to make the code more expressive. Through their ease of usage and extreme expressivity, they boost the usage of the Standard Template Library.</p><p>At this point, I have to make a confession. I used to be very bad at C++. I knew the basic syntax and of course, I kept improving the readability of my code, but my knowledge was very poor on the STL, the standard library, on everything that is beyond the basic syntax. <a href="http://sandordargo.com/blog/2018/01/03/new-year-new-start">When I was looking for a new team</a>, moving to a pure/mostly C++ team was a compromise to me. I preferred Java and python much more. Probably because I moved around their ecosystems’ more comfortably.</p><p>In my new team even though I worked some weeks in Java parts too, I ended up on C++ projects and I made up my mind. I decided to learn C++ better, at least to an advanced-medium level this year. This journey helped me a lot to <strike>fall in love with C++</strike> like it better than before. Lambdas are one important part of this new relationship.</p><p>Enough is enough. Let’s go back to our topic.</p><h2 id="what-do-lambdas-replace-fu">What do lambdas replace? Fu…</h2><p>Functors, that’s right. Functors, or by their maiden name, function objects are instances of classes where the <code class="language-plaintext highlighter-rouge">operator()</code> is overridden. So you can call them like this:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">FunctorClass</span> <span class="n">aFunctor</span><span class="p">;</span>
<span class="n">aFunctor</span><span class="p">();</span>
</pre></table></code></div></div><p>Or if it takes a parameter:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">FunctorClass</span> <span class="n">aFunctor</span><span class="p">;</span>
<span class="n">aFunctor</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
</pre></table></code></div></div><p>Defining them is pretty easy. They are normal classes, they just override <code class="language-plaintext highlighter-rouge">operator()</code>.</p><p>Let’s sketch up quickly a functor that will decide if a given number is between 0 and 10.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">IsBetweenZeroAndTen</span> <span class="p">{</span>
  <span class="nl">public:</span>
  <span class="kt">bool</span> <span class="k">operator</span><span class="p">()(</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><p>Fairly easy, but sometimes you really don’t care about reusability and you don’t want to find an <em>appropriate</em> place for this function. You just want to define it once and on the fly. Lambdas, here they come!</p><h2 id="syntax">Syntax</h2><p>Let’s learn a bit about C++ lambda syntax. First, we are going to have a small overview then we go into details.</p><h3 id="overview">Overview</h3><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>[/* capture */] (/* parameters*/) { /* body */ }
</pre></table></code></div></div><p>It’s that simple. So let’s rewrite our functor as a lambda expression:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="p">[](</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>As it’s something very simple, just looking at the code, you can easily understand it without a name. You don’t have to place a class somewhere, you just declare it on the fly. Yet, you might think that adding a name to it might help you increase code readability. That’s fine, there are such cases, still, you don’t need to write a class, you can save it in a variable:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">isBetweenZeroAndTen</span> <span class="o">=</span> <span class="p">[](</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Yes, it’s that easy. Are you interested in its type? Try using <code class="language-plaintext highlighter-rouge">decltype</code> to get it.</p><p>Let’s move on.</p><h3 id="capture">Capture</h3><p>Something that is really nice about C++ lambdas is that you can practice English. You have all types of brackets in it. You will have to deal with parentheses or round brackets (<code class="language-plaintext highlighter-rouge">()</code>), square or box brackets (<code class="language-plaintext highlighter-rouge">[]</code>) and braces or curly brackets (<code class="language-plaintext highlighter-rouge">{}</code>). Let’s start with the square ones;</p><p>In the scope of lambda expressions, they are called a capture. So far you only saw them empty. What do they capture? They might capture variables that are not passed to the lambdas as a parameter and they are also not created inside.</p><p>Let’s go back to our example of <code class="language-plaintext highlighter-rouge">isBetweenZeroAndTen</code>. Let’s say we want to upper bound to vary.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">upperBound</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">[](</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">upperBound</span><span class="p">;</span> <span class="c1">// doesn't compile, WTF is upperBound?</span>
<span class="p">}</span>
</pre></table></code></div></div><p>This will not compile, because in the scope of the lambda <code class="language-plaintext highlighter-rouge">upperBound</code> is unknown. It has to capture it. Let’s see how!</p><h4 id="capture-nothing">Capture nothing</h4><p>Well, when they are empty (<code class="language-plaintext highlighter-rouge">[]</code>), they capture nothing. That’s stupid simple.</p><h4 id="capture-by-value">Capture by value</h4><p>Write <code class="language-plaintext highlighter-rouge">[upperBound]</code> and our lambda will have the value of it.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">upperBound</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">[</span><span class="n">upperBound</span><span class="p">](</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">upperBound</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h4 id="capture-by-reference">Capture by reference</h4><p>With the <a href="">well-known ampersand</a> you can capture the variable by its reference, instead of the value.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">upperBound</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">[</span><span class="o">&amp;</span><span class="n">upperBound</span><span class="p">](</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">upperBound</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>This implies - at least - two important things:</p><ul><li>The value of the captured variable can be modified even for the outside world<li>You must make sure that the referenced variable still exists once the lambda is executed</ul><h4 id="capture-all-by-value">Capture all by value</h4><p><code class="language-plaintext highlighter-rouge">[=]</code> will save “all” the variables needed in the body of the lambda by value. Sounds fun? Have you noticed that I wrote <em>all</em> between double quotes? I did so because we have to understand what “<em>all</em>” variables mean. All means all the non-static local variables. So for example, if you reference a member variable in the lambda, even if you used it just next to the lambda declaration, it will not work.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="n">m_upperBound</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">[</span><span class="o">=</span><span class="p">](</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">m_upperBound</span><span class="p">;</span> <span class="c1">// doesn't compile, m_upperBound is not a non-static local</span>
<span class="p">}</span>
</pre></table></code></div></div><p>How to fix this? There are two simple ways. One is that you make a local copy and capture that.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">m_upperBound</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="k">auto</span> <span class="n">upperBound</span> <span class="o">=</span> <span class="n">m_upperBound</span><span class="p">;</span>
<span class="p">[</span><span class="o">=</span><span class="p">](</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">upperBound</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>The other way is to pass in the whole surrounding object, <code class="language-plaintext highlighter-rouge">this</code>, we’ll see it later.</p><h4 id="capture-all-by-reference">Capture all by reference</h4><p><code class="language-plaintext highlighter-rouge">[&amp;]</code> with this capture block, all the necessary and available variables will be captured by reference. Same notions apply here as for capturing all variables by value.</p><p>And don’t forget. If a captured variable went out of scope since you captured it, you are in deep trouble.</p><h4 id="capture-all-by-value-but">Capture all by value, but</h4><p>With using <code class="language-plaintext highlighter-rouge">[=, &amp;divisor]</code> as a capture, everything will be captured by value except for the variable that is explicitly listed preceded with an <code class="language-plaintext highlighter-rouge">&amp;</code>.</p><h4 id="capture-all-by-reference-but">Capture all by reference, but</h4><p>With using <code class="language-plaintext highlighter-rouge">[&amp;, divisor]</code> as a capture, everything will be captured by value except for the variable that is explicitly listed.</p><h4 id="capture-this">Capture <code class="language-plaintext highlighter-rouge">this</code></h4><p>As we previously said, an only non-static local variable can be saved with the capture block. But as so frequently in life, there is a difference. You can also save the surrounding object like this: <code class="language-plaintext highlighter-rouge">[this]</code>. <code class="language-plaintext highlighter-rouge">this</code> is a pointer to the enclosing object, so if you capture <code class="language-plaintext highlighter-rouge">this</code>, you’ll have access to the members for example:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>
<span class="p">[</span><span class="k">this</span><span class="p">](</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_upperBound</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>But we shall not forget that <code class="language-plaintext highlighter-rouge">this</code> is a pointer. If it ceases to exist between the time we capture it and the time our lambda is executed, we’ll have to face undefined behaviour.</p><h3 id="the-list-of-parameters">The list of parameters</h3><p>The list of parameters, as usual, come in between parentheses (<code class="language-plaintext highlighter-rouge">()</code>). Some remarks:</p><ul><li>In C++11 you cannot use <code class="language-plaintext highlighter-rouge">auto</code> as a type-specifier. But since C++14, you may.<li>If there are no parameters passed to a lambda, the empty list can be omitted. Meaning that <code class="language-plaintext highlighter-rouge">[]{}</code> is a valid lambda expression. Though for readability reasons, it’s better not to remove the empty parenthesis.</ul><h3 id="the-return-type">The return type</h3><p>Hmmm… There was no return type in our example so what does this section do here? And why after the list of parameters?</p><p>The return type of lambda expressions can be and most often is omitted when</p><ul><li>it is void<li>or if it deducible (so if you could use <code class="language-plaintext highlighter-rouge">auto</code>)</ul><p>As such, in practice most of the time the return type is omitted. In fact, in production code, I have never seen lambdas with an explicit return type.</p><p>If you do have to or want to declare them, you must use the [trailing return type syntax] meaning that you will declare the type between the parameter list and the body, putting the type after an arrow like this:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="p">[](</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">bool</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h3 id="the-body">The body</h3><p>It’s just a normal body. As a best practice, it should be a quite lean one. If you need something longer, heavier, maybe a lambda is not the way you go.</p><p>As a reminder let’s mention that you can work with the following variables:</p><ul><li>local variables declared in the body<li>parameters passed into the lambda<li>non-static local variable captured within the square brackets called a <em>“capture”</em></ul><p>Again, just to emphasize, if you go with the option of capturing references you must be sure that the referenced variable will be still alive when the lambda would be executed.</p><h2 id="advantages">Advantages</h2><p>I already mentioned some of the advantages of using lambdas:</p><ul><li>no need for writing a full class<li>no need to find an appropriate name for the class<li>no need to find a good place for the class<li>enhanced readability for simple use-cases.</ul><p>And there is one more to mention. <a href="https://cppinsights.io/lnk?code=I2luY2x1ZGUgPGNzdGRpbz4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGFsZ29yaXRobT4KCmNsYXNzIGZ1bmN0b3J7CiAgcHVibGljOgogIGJvb2wgb3BlcmF0b3IoKShpbnQgdmFsKSB7CiAgICByZXR1cm4gMCA8IHZhbCAmJiB2YWwgPCAxMDsKICB9Cn07CgppbnQgbWFpbigpCnsKICAgIHN0ZDo6dmVjdG9yPGludD4gY29udGFpbmVyIHsyLDQsNiw4LCAyNX07CgogIAlzdGQ6OmZpbmRfaWYoY29udGFpbmVyLmJlZ2luKCksIGNvbnRhaW5lci5lbmQoKSwgZnVuY3RvcigpKTsKICAKICAgIHN0ZDo6ZmluZF9pZihjb250YWluZXIuYmVnaW4oKSwgY29udGFpbmVyLmVuZCgpLAogICAgICAgCQkgICAgICBbXShpbnQgdmFsKSB7IHJldHVybiAwIDwgdmFsICYmIHZhbCA8IDEwOyB9KTsKICAKfQ==&amp;rev=1.0">Here</a> you can check how much code will be generated for a functor. Default constructors, move constructor, copy constructor, destructor and nothing for a lambda apart from the operator overload. Oh, and there is one more. The compiler will not find out if you forgot to declare <code class="language-plaintext highlighter-rouge">operator()</code> overload as const. No problem for a lambda.</p><h2 id="some-examples">Some examples</h2><p>Now that we understand the syntax of C++ lambda expressions, let see a couple of examples for their usage. I’ll stick with the C++11 syntax, meaning that I won’t use the <code class="language-plaintext highlighter-rouge">auto</code> keyword in the parameter list, and in the STL algorithms, I won’t use <a href="https://www.fluentcpp.com/2018/02/09/introduction-ranges-library/">ranges</a>.</p><h3 id="do-the-same-thing-on-all-elements-of-a-list">Do the same thing on all elements of a list</h3><p>Let’s say we have a list of <code class="language-plaintext highlighter-rouge">Widget</code>s and you want to call their <code class="language-plaintext highlighter-rouge">resize()</code> method.</p><p>Non-lambda way:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">widgets</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">};</span> <span class="c1">// a bunch of widgets</span>
<span class="k">for</span> <span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="n">widget</span> <span class="o">:</span> <span class="n">widgets</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">widget</span><span class="p">.</span><span class="n">resize</span><span class="p">();</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Lambda way:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
</span><span class="c1">// ...</span>

<span class="k">auto</span> <span class="n">widgets</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">};</span> <span class="c1">// a bunch of widgets</span>

<span class="n">std</span><span class="o">::</span><span class="n">for_each</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">begin</span><span class="p">(</span><span class="n">widgets</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">end</span><span class="p">(</span><span class="n">widgets</span><span class="p">),</span> 
  <span class="p">[](</span><span class="n">Widget</span><span class="o">&amp;</span> <span class="n">widget</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">widget</span><span class="p">.</span><span class="n">resize</span><span class="p">();</span>
<span class="p">}</span> <span class="p">);</span>
</pre></table></code></div></div><p>In this case, it’s debatable if you really want to use lambdas. The syntax is a bit more clunky, but it’s generic for all std containers and you define the range you want to iterate over.</p><p>If we’d take the good old C++0x way, we can see even a readability advatage:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">widgets</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">widgets</span><span class="p">.</span><span class="n">end</span><span class="p">()</span> <span class="p">;</span> <span class="o">++</span><span class="n">it</span><span class="p">)</span>
<span class="p">{</span>
   <span class="n">widget</span><span class="p">.</span><span class="n">resize</span><span class="p">();</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Those iterators are just ugly to manage.</p><p>But with this example, we might already get the idea, that among the STL algorithms, lambdas will become handy.</p><h3 id="get-all-the-integers-of-a-string">Get all the integers of a string</h3><p>I know, I know, you could easily do this with a regular expression. But let’s say you don’t want to.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cctype&gt;</span><span class="cp">
</span>
<span class="k">auto</span> <span class="n">another</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">{};</span>
<span class="n">std</span><span class="o">::</span><span class="n">copy_if</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">begin</span><span class="p">(</span><span class="n">input</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">end</span><span class="p">(</span><span class="n">input</span><span class="p">),</span>
            <span class="n">std</span><span class="o">::</span><span class="n">back_inserter</span><span class="p">(</span><span class="n">another</span><span class="p">),</span>
            <span class="p">[](</span><span class="kt">char</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">isdigit</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
            <span class="p">}</span>
<span class="p">);</span>

</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">copy_if</code> function will iterate over a range defined by the first two parameters. The third one defines where to copy the upcoming character if the condition defined by the last parameter is true.</p><p>In the last parameter, we defined a lambda expression. It gets a character as a parameter and returns <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code> depending on whether the passed in character is a digit or not. Luckily in the standard library, there is a function to do, meaning that we don’t have to try to cast it, nor to check its ASCII value.</p><h3 id="write-a-function-checking-if-a-string-is-lowercase">Write a function checking if a string is lowercase</h3><p>Again this could be done with a regex, but it’s more fun to do it with a lambda (or not…). If it’s faster or not that should be measured.</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cctype&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
</span>
<span class="k">auto</span> <span class="nf">isLower</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">phrase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">bool</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">all_of</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">begin</span><span class="p">(</span><span class="n">phrase</span><span class="p">),</span> <span class="n">std</span><span class="o">::</span><span class="n">end</span><span class="p">(</span><span class="n">phrase</span><span class="p">),</span> <span class="p">[](</span><span class="kt">char</span> <span class="n">c</span><span class="p">){</span><span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">islower</span><span class="p">(</span><span class="n">c</span><span class="p">);});</span>
<span class="p">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">std::all_of</code> iterates over the range defined by the first two parameters and returns <code class="language-plaintext highlighter-rouge">true</code> if the lambda defined in the third parameter returns <code class="language-plaintext highlighter-rouge">true</code> for all the values. If there is at least one that evaluates to <code class="language-plaintext highlighter-rouge">false</code> the whole expression returns <code class="language-plaintext highlighter-rouge">false</code>. Again, luckily the <code class="language-plaintext highlighter-rouge">cctype</code> header has something helping us decide if a given character is lowercase.</p><h3 id="use-custom-deleters-for-smart-pointers">Use custom deleters for smart pointers</h3><p>As a last example let’s go to the shady world of pointers.</p><p>Probably we all heard that we should use smart pointers instead of new and all. If we have to deal with dynamic memory allocation and ownership it’s better to choose an appropriate smart pointer either from boost or from the standard library depending on which version of C++ we are using.</p><p>When our shiny smart pointer reaches the end of its lifetime, the raw pointer it holds inside gets deleted. But what if it’s not the only thing we want to do?</p><p>What else we would want to do you might ask. Let’s say we want to log. If you want to see more use cases, read <a href="https://www.bfilipek.com/2016/04/custom-deleters-for-c-smart-pointers.html">this article</a>.</p><p>In the case of some extra work needed, we have to define a deleter for the smart pointer and pass it as a parameter to the declaration.</p><p>You can either define a deleter class, a functor, or as you might have guessed, you can just pass a lambda like this:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span> <span class="n">pw1</span><span class="p">(</span><span class="k">new</span> <span class="n">Widget</span><span class="p">,</span> <span class="p">[](</span><span class="n">Widget</span> <span class="o">*</span><span class="n">w</span><span class="p">){</span> <span class="cm">/* ... */</span> <span class="p">});</span>
</pre></table></code></div></div><p>The downside is that you cannot use <code class="language-plaintext highlighter-rouge">make_shared</code>, but that’s another story and not the fault of lambdas.</p><h2 id="conclusion">Conclusion</h2><p>I hope you enjoyed this short journey to the - not so - new world of C++ lambdas. We covered not just why we should use lambdas, but we went into details regarding their syntax and saw a couple of examples.</p><p>If you only learned C++0x, you should keep in mind that C++ got a lot of features “recently” and it’s getting more and more expressive just like lambdas show us.</p><p>Happy coding!</p><h2 id="connect-deeper">Connect deeper</h2><p>If you liked this article, please</p><ul><li>hit on the like button,<li><a href="http://eepurl.com/gvcv1j">subscribe to my newsletter</a><li>and let’s connect on <a href="https://twitter.com/SandorDargo">Twitter</a>!</ul><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/dev/'>dev</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/cpp/" class="post-tag no-text-decoration" >cpp</a> <a href="/tags/tutorial/" class="post-tag no-text-decoration" >tutorial</a> <a href="/tags/cpp11/" class="post-tag no-text-decoration" >cpp11</a> <a href="/tags/stl/" class="post-tag no-text-decoration" >stl</a> <a href="/tags/cleancode/" class="post-tag no-text-decoration" >cleancode</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a><div class="share-wrapper"> <a href="https://www.patreon.com/sandordargo" style="float: left; padding-left: 0;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://c5.patreon.com/external/logo/become_a_patron_button.png" style="float: left; padding-left: 0;"></a> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Lambda Expressions in C++ - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2018/12/19/c++-lambda-expressions" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Lambda Expressions in C++ - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2018/12/19/c++-lambda-expressions" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Lambda Expressions in C++ - Sandor Dargo's Blog&url=https://www.sandordargo.com/blog/2018/12/19/c++-lambda-expressions" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://news.ycombinator.com/submitlink?t=Lambda Expressions in C++ - Sandor Dargo's Blog&u=https://www.sandordargo.com/blog/2018/12/19/c++-lambda-expressions" data-toggle="tooltip" data-placement="top" title="HackerNews" target="_blank" rel="noopener" aria-label="HackerNews"> <i class="fa-fw fab fa-hacker-news"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/blog/2026/01/21/clocks-part-8-cpp20-timezones">Time in C++: C++20 Brought Us Time Zones</a><li><a href="/blog/2019/04/10/lesson-of-a-booking-dont-trust-the-system">Lesson of a booking: Don't trust the system!</a><li><a href="/blog/2020/07/22/always-catch-exceptions-by-reference">Why should we always catch exceptions by reference?</a><li><a href="/blog/2020/11/28/emergent-design">Emergent Design: The Evolutionary Nature of Professional Software Development by Scott Bain</a><li><a href="/blog/2021/10/06/airy-code-reviews">Bring some fresh AIR and write effective code review comments</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self-improvement</a> <a class="post-tag" href="/tags/management/">management</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/blog/2018/07/05/cpp-override"><div class="card-body"> <span class="timeago small" > Jul 5, 2018 <i class="unloaded">2018-07-05T00:00:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Why to use the override specifier in C++ 11?</h3><div class="text-muted small"><p> The override specifier was introduced to the language with C++11 and it is one of the easiest tool to significantly improve the maintainability of our codebases. override tells both the reader an...</p></div></div></a></div><div class="card"> <a href="/blog/2018/11/07/trailing-return-type"><div class="card-body"> <span class="timeago small" > Nov 7, 2018 <i class="unloaded">2018-11-07T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How do you declare a function in C++?</h3><div class="text-muted small"><p> Beginning of this year I came back to a C++ developer position and we are making or final steps towards complete a migration to (among others) C++11 and I decided to level up my knowledge. It’s alm...</p></div></div></a></div><div class="card"> <a href="/blog/2018/11/25/override-r-and-l0-values"><div class="card-body"> <span class="timeago small" > Nov 25, 2018 <i class="unloaded">2018-11-25T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How to use ampersands in C++</h3><div class="text-muted small"><p> In one of my previous articles, I wrote about Scott Meyer’s Effective Modern C++ and that with its focus on C++11/14 it’s like discovering a completely new language. I already wrote about trailing ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/blog/2018/12/12/the-best-13-books-i-read-this-year" class="btn btn-outline-primary" prompt="Older"><p>The best 13 books I read this year</p></a> <a href="/blog/2018/12/26/professional_learner" class="btn btn-outline-primary" prompt="Newer"><p>Professional learners we are</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//sandordargo-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Lambda Expressions in C++'; this.page.url = 'https://www.sandordargo.com/blog/2018/12/19/c++-lambda-expressions'; this.page.identifier = '/blog/2018/12/19/c++-lambda-expressions'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><div id="amzn-assoc-ad-be5a767b-3346-40aa-bc00-2eff0ce33d2b"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=be5a767b-3346-40aa-bc00-2eff0ce33d2b"></script> <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script> <script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">require(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us16.list-manage.com","uuid":"b073dbd5c29322302f59a8cd8","lid":"d26240427e"}) })</script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://twitter.com/SandorDargo">Sandor Dargo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/watercooler/">watercooler</a> <a class="post-tag" href="/tags/career/">career</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/cpp23/">cpp23</a> <a class="post-tag" href="/tags/stl/">stl</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/self-improvement/">self improvement</a> <a class="post-tag" href="/tags/management/">management</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.sandordargo.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
